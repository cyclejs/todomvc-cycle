(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";function logToConsoleError(err){var target=err.stack||err;if(console&&console.error){console.error(target)}else if(console&&console.log){console.log(target)}}function makeSinkProxies(drivers,streamAdapter){var sinkProxies={};for(var name_1 in drivers){if(drivers.hasOwnProperty(name_1)){var holdSubject=streamAdapter.makeSubject();var driverStreamAdapter=drivers[name_1].streamAdapter||streamAdapter;var stream=driverStreamAdapter.adapt(holdSubject.stream,streamAdapter.streamSubscribe);sinkProxies[name_1]={stream:stream,observer:holdSubject.observer}}}return sinkProxies}function callDrivers(drivers,sinkProxies,streamAdapter){var sources={};for(var name_2 in drivers){if(drivers.hasOwnProperty(name_2)){var driverOutput=drivers[name_2](sinkProxies[name_2].stream,streamAdapter,name_2);var driverStreamAdapter=drivers[name_2].streamAdapter;if(driverStreamAdapter&&driverStreamAdapter.isValidStream(driverOutput)){sources[name_2]=streamAdapter.adapt(driverOutput,driverStreamAdapter.streamSubscribe)}else{sources[name_2]=driverOutput}if(sources[name_2]&&typeof sources[name_2]==="object"){sources[name_2]._isCycleSource=name_2}}}return sources}function replicateMany(sinks,sinkProxies,streamAdapter){var results=Object.keys(sinks).filter(function(name){return!!sinkProxies[name]}).map(function(name){return streamAdapter.streamSubscribe(sinks[name],{next:function(x){sinkProxies[name].observer.next(x)},error:function(err){logToConsoleError(err);sinkProxies[name].observer.error(err)},complete:function(x){sinkProxies[name].observer.complete(x)}})});var disposeFunctions=results.filter(function(dispose){return typeof dispose==="function"});return function(){disposeFunctions.forEach(function(dispose){return dispose()})}}function disposeSources(sources){for(var k in sources){if(sources.hasOwnProperty(k)&&sources[k]&&typeof sources[k].dispose==="function"){sources[k].dispose()}}}var isObjectEmpty=function(obj){return Object.keys(obj).length===0};function Cycle(main,drivers,options){if(typeof main!=="function"){throw new Error("First argument given to Cycle must be the 'main' "+"function.")}if(typeof drivers!=="object"||drivers===null){throw new Error("Second argument given to Cycle must be an object "+"with driver functions as properties.")}if(isObjectEmpty(drivers)){throw new Error("Second argument given to Cycle must be an object "+"with at least one driver function declared as a property.")}var streamAdapter=options.streamAdapter;if(!streamAdapter||isObjectEmpty(streamAdapter)){throw new Error("Third argument given to Cycle must be an options object "+"with the streamAdapter key supplied with a valid stream adapter.")}var sinkProxies=makeSinkProxies(drivers,streamAdapter);var sources=callDrivers(drivers,sinkProxies,streamAdapter);var sinks=main(sources);if(typeof window!=="undefined"){window.Cyclejs={sinks:sinks}}var run=function(){var disposeReplication=replicateMany(sinks,sinkProxies,streamAdapter);return function(){disposeSources(sources);disposeReplication()}};return{sinks:sinks,sources:sources,run:run}}Object.defineProperty(exports,"__esModule",{value:true});exports.default=Cycle},{}],2:[function(require,module,exports){"use strict";var xstream_1=require("xstream");var xstream_adapter_1=require("@cycle/xstream-adapter");var fromEvent_1=require("./fromEvent");var BodyDOMSource=function(){function BodyDOMSource(_runStreamAdapter,_name){this._runStreamAdapter=_runStreamAdapter;this._name=_name}BodyDOMSource.prototype.select=function(selector){return this};BodyDOMSource.prototype.elements=function(){var runSA=this._runStreamAdapter;var out=runSA.remember(runSA.adapt(xstream_1.default.of(document.body),xstream_adapter_1.default.streamSubscribe));out._isCycleSource=this._name;return out};BodyDOMSource.prototype.events=function(eventType,options){if(options===void 0){options={}}var stream;if(options&&typeof options.useCapture==="boolean"){stream=fromEvent_1.fromEvent(document.body,eventType,options.useCapture)}else{stream=fromEvent_1.fromEvent(document.body,eventType)}var out=this._runStreamAdapter.adapt(stream,xstream_adapter_1.default.streamSubscribe);out._isCycleSource=this._name;return out};return BodyDOMSource}();exports.BodyDOMSource=BodyDOMSource},{"./fromEvent":10,"@cycle/xstream-adapter":33,xstream:163}],3:[function(require,module,exports){"use strict";var xstream_1=require("xstream");var xstream_adapter_1=require("@cycle/xstream-adapter");var fromEvent_1=require("./fromEvent");var DocumentDOMSource=function(){function DocumentDOMSource(_runStreamAdapter,_name){this._runStreamAdapter=_runStreamAdapter;this._name=_name}DocumentDOMSource.prototype.select=function(selector){return this};DocumentDOMSource.prototype.elements=function(){var runSA=this._runStreamAdapter;var out=runSA.remember(runSA.adapt(xstream_1.default.of(document),xstream_adapter_1.default.streamSubscribe));out._isCycleSource=this._name;return out};DocumentDOMSource.prototype.events=function(eventType,options){if(options===void 0){options={}}var stream;if(options&&typeof options.useCapture==="boolean"){stream=fromEvent_1.fromEvent(document,eventType,options.useCapture)}else{stream=fromEvent_1.fromEvent(document,eventType)}var out=this._runStreamAdapter.adapt(stream,xstream_adapter_1.default.streamSubscribe);out._isCycleSource=this._name;return out};return DocumentDOMSource}();exports.DocumentDOMSource=DocumentDOMSource},{"./fromEvent":10,"@cycle/xstream-adapter":33,xstream:163}],4:[function(require,module,exports){"use strict";var ScopeChecker_1=require("./ScopeChecker");var utils_1=require("./utils");var matchesSelector;try{matchesSelector=require("matches-selector")}catch(e){matchesSelector=Function.prototype}function toElArray(input){return Array.prototype.slice.call(input)}var ElementFinder=function(){function ElementFinder(namespace,isolateModule){this.namespace=namespace;this.isolateModule=isolateModule}ElementFinder.prototype.call=function(rootElement){var namespace=this.namespace;if(namespace.join("")===""){return rootElement}var scope=utils_1.getScope(namespace);var scopeChecker=new ScopeChecker_1.ScopeChecker(scope,this.isolateModule);var selector=utils_1.getSelectors(namespace);var topNode=rootElement;var topNodeMatches=[];if(scope.length>0){topNode=this.isolateModule.getIsolatedElement(scope)||rootElement;if(selector&&matchesSelector(topNode,selector)){topNodeMatches.push(topNode)}}return toElArray(topNode.querySelectorAll(selector)).filter(scopeChecker.isStrictlyInRootScope,scopeChecker).concat(topNodeMatches)};return ElementFinder}();exports.ElementFinder=ElementFinder},{"./ScopeChecker":8,"./utils":21,"matches-selector":130}],5:[function(require,module,exports){"use strict";var ScopeChecker_1=require("./ScopeChecker");var utils_1=require("./utils");var matchesSelector;try{matchesSelector=require("matches-selector")}catch(e){matchesSelector=Function.prototype}var gDestinationId=0;function findDestinationId(arr,searchId){var minIndex=0;var maxIndex=arr.length-1;var currentIndex;var currentElement;while(minIndex<=maxIndex){currentIndex=(minIndex+maxIndex)/2|0;currentElement=arr[currentIndex];var currentId=currentElement.destinationId;if(currentId<searchId){minIndex=currentIndex+1}else if(currentId>searchId){maxIndex=currentIndex-1}else{return currentIndex}}return-1}var EventDelegator=function(){function EventDelegator(topElement,eventType,useCapture,isolateModule){var _this=this;this.topElement=topElement;this.eventType=eventType;this.useCapture=useCapture;this.isolateModule=isolateModule;this.destinations=[];this.roof=topElement.parentElement;if(useCapture){this.domListener=function(ev){return _this.capture(ev)}}else{this.domListener=function(ev){return _this.bubble(ev)}}topElement.addEventListener(eventType,this.domListener,useCapture)}EventDelegator.prototype.bubble=function(rawEvent){if(!document.body.contains(rawEvent.currentTarget)){return}var ev=this.patchEvent(rawEvent);for(var el=ev.target;el&&el!==this.roof;el=el.parentElement){if(!document.body.contains(el)){ev.stopPropagation()}if(ev.propagationHasBeenStopped){return}this.matchEventAgainstDestinations(el,ev)}};EventDelegator.prototype.matchEventAgainstDestinations=function(el,ev){for(var i=0,n=this.destinations.length;i<n;i++){var dest=this.destinations[i];if(!dest.scopeChecker.isStrictlyInRootScope(el)){continue}if(matchesSelector(el,dest.selector)){this.mutateEventCurrentTarget(ev,el);dest.subject._n(ev)}}};EventDelegator.prototype.capture=function(ev){for(var i=0,n=this.destinations.length;i<n;i++){var dest=this.destinations[i];if(matchesSelector(ev.target,dest.selector)){dest.subject._n(ev)}}};EventDelegator.prototype.addDestination=function(subject,namespace,destinationId){var scope=utils_1.getScope(namespace);var selector=utils_1.getSelectors(namespace);var scopeChecker=new ScopeChecker_1.ScopeChecker(scope,this.isolateModule);this.destinations.push({subject:subject,scopeChecker:scopeChecker,selector:selector,destinationId:destinationId})};EventDelegator.prototype.createDestinationId=function(){return gDestinationId++};EventDelegator.prototype.removeDestinationId=function(destinationId){var i=findDestinationId(this.destinations,destinationId);if(i>=0){this.destinations.splice(i,1)}};EventDelegator.prototype.patchEvent=function(event){var pEvent=event;pEvent.propagationHasBeenStopped=false;var oldStopPropagation=pEvent.stopPropagation;pEvent.stopPropagation=function stopPropagation(){oldStopPropagation.call(this);this.propagationHasBeenStopped=true};return pEvent};EventDelegator.prototype.mutateEventCurrentTarget=function(event,currentTargetElement){try{Object.defineProperty(event,"currentTarget",{value:currentTargetElement,configurable:true})}catch(err){console.log("please use event.ownerTarget")}event.ownerTarget=currentTargetElement};EventDelegator.prototype.updateTopElement=function(newTopElement){this.topElement.removeEventListener(this.eventType,this.domListener,this.useCapture);newTopElement.addEventListener(this.eventType,this.domListener,this.useCapture);this.topElement=newTopElement};return EventDelegator}();exports.EventDelegator=EventDelegator},{"./ScopeChecker":8,"./utils":21,"matches-selector":130}],6:[function(require,module,exports){"use strict";var xstream_1=require("xstream");var xstream_adapter_1=require("@cycle/xstream-adapter");var HTMLSource=function(){function HTMLSource(html$,runSA,_name){this.runSA=runSA;this._name=_name;this._html$=html$;this._empty$=runSA.adapt(xstream_1.default.empty(),xstream_adapter_1.default.streamSubscribe)}HTMLSource.prototype.elements=function(){var out=this.runSA.adapt(this._html$,xstream_adapter_1.default.streamSubscribe);out._isCycleSource=this._name;return out};HTMLSource.prototype.select=function(selector){return new HTMLSource(xstream_1.default.empty(),this.runSA,this._name)};HTMLSource.prototype.events=function(eventType,options){var out=this._empty$;out._isCycleSource=this._name;return out};return HTMLSource}();exports.HTMLSource=HTMLSource},{"@cycle/xstream-adapter":33,xstream:163}],7:[function(require,module,exports){"use strict";var xstream_adapter_1=require("@cycle/xstream-adapter");var DocumentDOMSource_1=require("./DocumentDOMSource");var BodyDOMSource_1=require("./BodyDOMSource");var xstream_1=require("xstream");var ElementFinder_1=require("./ElementFinder");var fromEvent_1=require("./fromEvent");var isolate_1=require("./isolate");var EventDelegator_1=require("./EventDelegator");var utils_1=require("./utils");var matchesSelector;try{matchesSelector=require("matches-selector")}catch(e){matchesSelector=Function.prototype}var eventTypesThatDontBubble=["blur","canplay","canplaythrough","change","durationchange","emptied","ended","focus","load","loadeddata","loadedmetadata","mouseenter","mouseleave","pause","play","playing","ratechange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeupdate","unload","volumechange","waiting"];function determineUseCapture(eventType,options){var result=false;if(typeof options.useCapture==="boolean"){result=options.useCapture}if(eventTypesThatDontBubble.indexOf(eventType)!==-1){result=true}return result}var MainDOMSource=function(){function MainDOMSource(_rootElement$,_runStreamAdapter,_namespace,_isolateModule,_delegators,_name){if(_namespace===void 0){_namespace=[]}this._rootElement$=_rootElement$;this._runStreamAdapter=_runStreamAdapter;this._namespace=_namespace;this._isolateModule=_isolateModule;this._delegators=_delegators;this._name=_name;this.__JANI_EVAKALLIO_WE_WILL_MISS_YOU_PLEASE_COME_BACK_EVENTUALLY=false;this.isolateSource=isolate_1.isolateSource;this.isolateSink=isolate_1.isolateSink;this.__JANI_EVAKALLIO_WE_WILL_MISS_YOU_PLEASE_COME_BACK_EVENTUALLY=true}MainDOMSource.prototype.elements=function(){var output$;if(this._namespace.length===0){output$=this._rootElement$}else{var elementFinder_1=new ElementFinder_1.ElementFinder(this._namespace,this._isolateModule);output$=this._rootElement$.map(function(el){return elementFinder_1.call(el)})}var runSA=this._runStreamAdapter;var out=runSA.remember(runSA.adapt(output$,xstream_adapter_1.default.streamSubscribe));out._isCycleSource=this._name;return out};Object.defineProperty(MainDOMSource.prototype,"namespace",{get:function(){return this._namespace},enumerable:true,configurable:true});MainDOMSource.prototype.select=function(selector){if(typeof selector!=="string"){throw new Error("DOM driver's select() expects the argument to be a "+"string as a CSS selector")}if(selector==="document"){return new DocumentDOMSource_1.DocumentDOMSource(this._runStreamAdapter,this._name)}if(selector==="body"){return new BodyDOMSource_1.BodyDOMSource(this._runStreamAdapter,this._name)}var trimmedSelector=selector.trim();var childNamespace=trimmedSelector===":root"?this._namespace:this._namespace.concat(trimmedSelector);return new MainDOMSource(this._rootElement$,this._runStreamAdapter,childNamespace,this._isolateModule,this._delegators,this._name)};MainDOMSource.prototype.events=function(eventType,options){if(options===void 0){options={}}if(typeof eventType!=="string"){throw new Error("DOM driver's events() expects argument to be a "+"string representing the event type to listen for.")}var useCapture=determineUseCapture(eventType,options);var namespace=this._namespace;var scope=utils_1.getScope(namespace);var keyParts=[eventType,useCapture];if(scope){keyParts.push(scope)}var key=keyParts.join("~");var domSource=this;var rootElement$;if(scope){var hadIsolated_mutable_1=false;rootElement$=this._rootElement$.filter(function(rootElement){var hasIsolated=!!domSource._isolateModule.getIsolatedElement(scope);var shouldPass=hasIsolated&&!hadIsolated_mutable_1;hadIsolated_mutable_1=hasIsolated;return shouldPass})}else{rootElement$=this._rootElement$.take(2)}var event$=rootElement$.map(function setupEventDelegatorOnTopElement(rootElement){if(!namespace||namespace.length===0){return fromEvent_1.fromEvent(rootElement,eventType,useCapture)}var delegators=domSource._delegators;var top=scope?domSource._isolateModule.getIsolatedElement(scope):rootElement;var delegator;if(delegators.has(key)){delegator=delegators.get(key);delegator.updateTopElement(top)}else{delegator=new EventDelegator_1.EventDelegator(top,eventType,useCapture,domSource._isolateModule);delegators.set(key,delegator)}if(scope){domSource._isolateModule.addEventDelegator(scope,delegator)}var destinationId=delegator.createDestinationId();var subject=xstream_1.default.create({start:function(){},stop:function(){if("requestIdleCallback"in window){requestIdleCallback(function(){delegator.removeDestinationId(destinationId)})}else{delegator.removeDestinationId(destinationId)}}});delegator.addDestination(subject,namespace,destinationId);return subject}).flatten();var out=this._runStreamAdapter.adapt(event$,xstream_adapter_1.default.streamSubscribe);out._isCycleSource=domSource._name;return out};MainDOMSource.prototype.dispose=function(){this._isolateModule.reset()};return MainDOMSource}();exports.MainDOMSource=MainDOMSource},{"./BodyDOMSource":2,"./DocumentDOMSource":3,"./ElementFinder":4,"./EventDelegator":5,"./fromEvent":10,"./isolate":14,"./utils":21,"@cycle/xstream-adapter":33,"matches-selector":130,xstream:163}],8:[function(require,module,exports){"use strict";var ScopeChecker=function(){function ScopeChecker(scope,isolateModule){this.scope=scope;this.isolateModule=isolateModule}ScopeChecker.prototype.isStrictlyInRootScope=function(leaf){for(var el=leaf;el;el=el.parentElement){var scope=this.isolateModule.isIsolatedElement(el);if(scope&&scope!==this.scope){return false}if(scope){return true}}return true};return ScopeChecker}();exports.ScopeChecker=ScopeChecker},{}],9:[function(require,module,exports){"use strict";var hyperscript_1=require("./hyperscript");var classNameFromVNode_1=require("snabbdom-selector/lib/classNameFromVNode");var selectorParser_1=require("snabbdom-selector/lib/selectorParser");var VNodeWrapper=function(){function VNodeWrapper(rootElement){this.rootElement=rootElement}VNodeWrapper.prototype.call=function(vnode){var _a=selectorParser_1.default(vnode.sel),selectorTagName=_a.tagName,selectorId=_a.id;var vNodeClassName=classNameFromVNode_1.default(vnode);var vNodeData=vnode.data||{};var vNodeDataProps=vNodeData.props||{};var _b=vNodeDataProps.id,vNodeId=_b===void 0?selectorId:_b;var isVNodeAndRootElementIdentical=vNodeId.toUpperCase()===this.rootElement.id.toUpperCase()&&selectorTagName.toUpperCase()===this.rootElement.tagName.toUpperCase()&&vNodeClassName.toUpperCase()===this.rootElement.className.toUpperCase();if(isVNodeAndRootElementIdentical){return vnode}var _c=this.rootElement,tagName=_c.tagName,id=_c.id,className=_c.className;var elementId=id?"#"+id:"";var elementClassName=className?"."+className.split(" ").join("."):"";return hyperscript_1.h(""+tagName.toLowerCase()+elementId+elementClassName,{},[vnode])};return VNodeWrapper}();exports.VNodeWrapper=VNodeWrapper},{"./hyperscript":12,"snabbdom-selector/lib/classNameFromVNode":134,"snabbdom-selector/lib/selectorParser":135}],10:[function(require,module,exports){"use strict";var xstream_1=require("xstream");function fromEvent(element,eventName,useCapture){if(useCapture===void 0){useCapture=false}return xstream_1.Stream.create({element:element,next:null,start:function start(listener){this.next=function next(event){listener.next(event)};this.element.addEventListener(eventName,this.next,useCapture)},stop:function stop(){this.element.removeEventListener(eventName,this.next,useCapture)}})}exports.fromEvent=fromEvent},{xstream:163}],11:[function(require,module,exports){"use strict";var hyperscript_1=require("./hyperscript");function isValidString(param){return typeof param==="string"&&param.length>0}function isSelector(param){return isValidString(param)&&(param[0]==="."||param[0]==="#")}function createTagFunction(tagName){return function hyperscript(first,b,c){if(isSelector(first)){if(typeof b!=="undefined"&&typeof c!=="undefined"){return hyperscript_1.h(tagName+first,b,c)}else if(typeof b!=="undefined"){return hyperscript_1.h(tagName+first,b)}else{return hyperscript_1.h(tagName+first,{})}}else if(!!b){return hyperscript_1.h(tagName,first,b)}else if(!!first){return hyperscript_1.h(tagName,first)}else{return hyperscript_1.h(tagName,{})}}}var SVG_TAG_NAMES=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","colorProfile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotlight","feTile","feTurbulence","filter","font","fontFace","fontFaceFormat","fontFaceName","fontFaceSrc","fontFaceUri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missingGlyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"];var svg=createTagFunction("svg");SVG_TAG_NAMES.forEach(function(tag){svg[tag]=createTagFunction(tag)});var TAG_NAMES=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","dfn","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","meta","nav","noscript","object","ol","optgroup","option","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","sup","table","tbody","td","textarea","tfoot","th","thead","title","tr","u","ul","video"];var exported={SVG_TAG_NAMES:SVG_TAG_NAMES,TAG_NAMES:TAG_NAMES,svg:svg,isSelector:isSelector,createTagFunction:createTagFunction};TAG_NAMES.forEach(function(n){exported[n]=createTagFunction(n)});Object.defineProperty(exports,"__esModule",{value:true});exports.default=exported},{"./hyperscript":12}],12:[function(require,module,exports){"use strict";var is=require("snabbdom/is");var vnode=require("snabbdom/vnode");function isGenericStream(x){return!Array.isArray(x)&&typeof x.map==="function"}function mutateStreamWithNS(vNode){addNS(vNode.data,vNode.children,vNode.sel);return vNode}function addNS(data,children,selector){data.ns="http://www.w3.org/2000/svg";if(selector!=="foreignObject"&&typeof children!=="undefined"&&is.array(children)){for(var i=0;i<children.length;++i){if(isGenericStream(children[i])){children[i]=children[i].map(mutateStreamWithNS)}else{addNS(children[i].data,children[i].children,children[i].sel)}}}}function h(sel,b,c){var data={};var children;var text;var i;if(arguments.length===3){data=b;if(is.array(c)){children=c}else if(is.primitive(c)){text=c}}else if(arguments.length===2){if(is.array(b)){children=b}else if(is.primitive(b)){text=b}else{data=b}}if(is.array(children)){children=children.filter(function(x){return x});for(i=0;i<children.length;++i){if(is.primitive(children[i])){children[i]=vnode(undefined,undefined,undefined,children[i])}}}if(sel[0]==="s"&&sel[1]==="v"&&sel[2]==="g"){addNS(data,children,sel)}return vnode(sel,data,children,text,undefined)}exports.h=h},{"snabbdom/is":145,"snabbdom/vnode":154}],13:[function(require,module,exports){"use strict";var thunk=require("snabbdom/thunk");exports.thunk=thunk;var makeDOMDriver_1=require("./makeDOMDriver");exports.makeDOMDriver=makeDOMDriver_1.makeDOMDriver;var makeHTMLDriver_1=require("./makeHTMLDriver");exports.makeHTMLDriver=makeHTMLDriver_1.makeHTMLDriver;var mockDOMSource_1=require("./mockDOMSource");exports.mockDOMSource=mockDOMSource_1.mockDOMSource;var hyperscript_1=require("./hyperscript");exports.h=hyperscript_1.h;var hyperscript_helpers_1=require("./hyperscript-helpers");exports.svg=hyperscript_helpers_1.default.svg;exports.a=hyperscript_helpers_1.default.a;exports.abbr=hyperscript_helpers_1.default.abbr;exports.address=hyperscript_helpers_1.default.address;exports.area=hyperscript_helpers_1.default.area;exports.article=hyperscript_helpers_1.default.article;exports.aside=hyperscript_helpers_1.default.aside;exports.audio=hyperscript_helpers_1.default.audio;exports.b=hyperscript_helpers_1.default.b;exports.base=hyperscript_helpers_1.default.base;exports.bdi=hyperscript_helpers_1.default.bdi;exports.bdo=hyperscript_helpers_1.default.bdo;exports.blockquote=hyperscript_helpers_1.default.blockquote;exports.body=hyperscript_helpers_1.default.body;exports.br=hyperscript_helpers_1.default.br;exports.button=hyperscript_helpers_1.default.button;exports.canvas=hyperscript_helpers_1.default.canvas;exports.caption=hyperscript_helpers_1.default.caption;exports.cite=hyperscript_helpers_1.default.cite;exports.code=hyperscript_helpers_1.default.code;exports.col=hyperscript_helpers_1.default.col;exports.colgroup=hyperscript_helpers_1.default.colgroup;exports.dd=hyperscript_helpers_1.default.dd;exports.del=hyperscript_helpers_1.default.del;exports.dfn=hyperscript_helpers_1.default.dfn;exports.dir=hyperscript_helpers_1.default.dir;exports.div=hyperscript_helpers_1.default.div;exports.dl=hyperscript_helpers_1.default.dl;exports.dt=hyperscript_helpers_1.default.dt;exports.em=hyperscript_helpers_1.default.em;exports.embed=hyperscript_helpers_1.default.embed;exports.fieldset=hyperscript_helpers_1.default.fieldset;exports.figcaption=hyperscript_helpers_1.default.figcaption;exports.figure=hyperscript_helpers_1.default.figure;exports.footer=hyperscript_helpers_1.default.footer;exports.form=hyperscript_helpers_1.default.form;exports.h1=hyperscript_helpers_1.default.h1;exports.h2=hyperscript_helpers_1.default.h2;exports.h3=hyperscript_helpers_1.default.h3;exports.h4=hyperscript_helpers_1.default.h4;exports.h5=hyperscript_helpers_1.default.h5;exports.h6=hyperscript_helpers_1.default.h6;exports.head=hyperscript_helpers_1.default.head;exports.header=hyperscript_helpers_1.default.header;exports.hgroup=hyperscript_helpers_1.default.hgroup;exports.hr=hyperscript_helpers_1.default.hr;exports.html=hyperscript_helpers_1.default.html;exports.i=hyperscript_helpers_1.default.i;exports.iframe=hyperscript_helpers_1.default.iframe;exports.img=hyperscript_helpers_1.default.img;exports.input=hyperscript_helpers_1.default.input;exports.ins=hyperscript_helpers_1.default.ins;exports.kbd=hyperscript_helpers_1.default.kbd;exports.keygen=hyperscript_helpers_1.default.keygen;exports.label=hyperscript_helpers_1.default.label;exports.legend=hyperscript_helpers_1.default.legend;exports.li=hyperscript_helpers_1.default.li;exports.link=hyperscript_helpers_1.default.link;exports.main=hyperscript_helpers_1.default.main;exports.map=hyperscript_helpers_1.default.map;exports.mark=hyperscript_helpers_1.default.mark;exports.menu=hyperscript_helpers_1.default.menu;exports.meta=hyperscript_helpers_1.default.meta;exports.nav=hyperscript_helpers_1.default.nav;exports.noscript=hyperscript_helpers_1.default.noscript;exports.object=hyperscript_helpers_1.default.object;exports.ol=hyperscript_helpers_1.default.ol;exports.optgroup=hyperscript_helpers_1.default.optgroup;exports.option=hyperscript_helpers_1.default.option;exports.p=hyperscript_helpers_1.default.p;exports.param=hyperscript_helpers_1.default.param;exports.pre=hyperscript_helpers_1.default.pre;exports.progress=hyperscript_helpers_1.default.progress;exports.q=hyperscript_helpers_1.default.q;exports.rp=hyperscript_helpers_1.default.rp;exports.rt=hyperscript_helpers_1.default.rt;exports.ruby=hyperscript_helpers_1.default.ruby;exports.s=hyperscript_helpers_1.default.s;exports.samp=hyperscript_helpers_1.default.samp;exports.script=hyperscript_helpers_1.default.script;exports.section=hyperscript_helpers_1.default.section;exports.select=hyperscript_helpers_1.default.select;exports.small=hyperscript_helpers_1.default.small;exports.source=hyperscript_helpers_1.default.source;exports.span=hyperscript_helpers_1.default.span;exports.strong=hyperscript_helpers_1.default.strong;exports.style=hyperscript_helpers_1.default.style;exports.sub=hyperscript_helpers_1.default.sub;exports.sup=hyperscript_helpers_1.default.sup;exports.table=hyperscript_helpers_1.default.table;exports.tbody=hyperscript_helpers_1.default.tbody;exports.td=hyperscript_helpers_1.default.td;exports.textarea=hyperscript_helpers_1.default.textarea;exports.tfoot=hyperscript_helpers_1.default.tfoot;exports.th=hyperscript_helpers_1.default.th;exports.thead=hyperscript_helpers_1.default.thead;exports.title=hyperscript_helpers_1.default.title;exports.tr=hyperscript_helpers_1.default.tr;exports.u=hyperscript_helpers_1.default.u;exports.ul=hyperscript_helpers_1.default.ul;exports.video=hyperscript_helpers_1.default.video},{"./hyperscript":12,"./hyperscript-helpers":11,"./makeDOMDriver":16,"./makeHTMLDriver":17,"./mockDOMSource":18,"snabbdom/thunk":153}],14:[function(require,module,exports){"use strict";var utils_1=require("./utils");function isolateSource(source,scope){return source.select(utils_1.SCOPE_PREFIX+scope)}exports.isolateSource=isolateSource;function isolateSink(sink,scope){return sink.map(function(vTree){if(vTree.data.isolate){var existingScope=parseInt(vTree.data.isolate.split(utils_1.SCOPE_PREFIX+"cycle")[1]);var _scope=parseInt(scope.split("cycle")[1]);if(isNaN(existingScope)||isNaN(_scope)||existingScope>_scope){return vTree}}vTree.data.isolate=utils_1.SCOPE_PREFIX+scope;if(typeof vTree.key==="undefined"){vTree.key=utils_1.SCOPE_PREFIX+scope}return vTree})}exports.isolateSink=isolateSink},{"./utils":21}],15:[function(require,module,exports){"use strict";var MapPolyfill=require("es6-map");var IsolateModule=function(){function IsolateModule(isolatedElements){this.isolatedElements=isolatedElements;this.eventDelegators=new MapPolyfill}IsolateModule.prototype.setScope=function(elm,scope){this.isolatedElements.set(scope,elm)};IsolateModule.prototype.removeScope=function(scope){this.isolatedElements.delete(scope)};IsolateModule.prototype.cleanupVNode=function(_a){var data=_a.data,elm=_a.elm;data=data||{};var scope=data.isolate;var isCurrentElm=this.isolatedElements.get(scope)===elm;if(scope&&isCurrentElm){this.removeScope(scope);if(this.eventDelegators.get(scope)){this.eventDelegators.set(scope,[])}}};IsolateModule.prototype.getIsolatedElement=function(scope){return this.isolatedElements.get(scope)};IsolateModule.prototype.isIsolatedElement=function(elm){var iterator=this.isolatedElements.entries();for(var result=iterator.next();!!result.value;result=iterator.next()){var _a=result.value,scope=_a[0],element=_a[1];if(elm===element){return scope}}return false};IsolateModule.prototype.addEventDelegator=function(scope,eventDelegator){var delegators=this.eventDelegators.get(scope);if(!delegators){delegators=[];this.eventDelegators.set(scope,delegators)}delegators[delegators.length]=eventDelegator};IsolateModule.prototype.reset=function(){this.isolatedElements.clear()};IsolateModule.prototype.createModule=function(){var self=this;return{create:function(oldVNode,vNode){var _a=oldVNode.data,oldData=_a===void 0?{}:_a;var elm=vNode.elm,_b=vNode.data,data=_b===void 0?{}:_b;var oldScope=oldData.isolate||"";var scope=data.isolate||"";if(scope){if(oldScope){self.removeScope(oldScope)}self.setScope(elm,scope);var delegators=self.eventDelegators.get(scope);if(delegators){for(var i=0,len=delegators.length;i<len;++i){delegators[i].updateTopElement(elm)}}else if(delegators===void 0){self.eventDelegators.set(scope,[])}}if(oldScope&&!scope){self.removeScope(scope)}},update:function(oldVNode,vNode){var _a=oldVNode.data,oldData=_a===void 0?{}:_a;var elm=vNode.elm,_b=vNode.data,data=_b===void 0?{}:_b;var oldScope=oldData.isolate||"";var scope=data.isolate||"";if(scope&&scope!==oldScope){if(oldScope){self.removeScope(oldScope)}self.setScope(elm,scope)}if(oldScope&&!scope){self.removeScope(scope)}},remove:function(vNode,cb){self.cleanupVNode(vNode);cb()},destroy:function(vNode){self.cleanupVNode(vNode)}}};return IsolateModule}();exports.IsolateModule=IsolateModule},{"es6-map":79}],16:[function(require,module,exports){"use strict";var snabbdom_1=require("snabbdom");var xstream_1=require("xstream");var MainDOMSource_1=require("./MainDOMSource");var VNodeWrapper_1=require("./VNodeWrapper");var utils_1=require("./utils");var modules_1=require("./modules");var isolateModule_1=require("./isolateModule");
var transposition_1=require("./transposition");var xstream_adapter_1=require("@cycle/xstream-adapter");var MapPolyfill=require("es6-map");function makeDOMDriverInputGuard(modules){if(!Array.isArray(modules)){throw new Error("Optional modules option must be "+"an array for snabbdom modules")}}function domDriverInputGuard(view$){if(!view$||typeof view$.addListener!=="function"||typeof view$.fold!=="function"){throw new Error("The DOM driver function expects as input a Stream of "+"virtual DOM elements")}}function makeDOMDriver(container,options){if(!options){options={}}var transposition=options.transposition||false;var modules=options.modules||modules_1.default;var isolateModule=new isolateModule_1.IsolateModule(new MapPolyfill);var patch=snabbdom_1.init([isolateModule.createModule()].concat(modules));var rootElement=utils_1.getElement(container);var vnodeWrapper=new VNodeWrapper_1.VNodeWrapper(rootElement);var delegators=new MapPolyfill;makeDOMDriverInputGuard(modules);function DOMDriver(vnode$,runStreamAdapter,name){domDriverInputGuard(vnode$);var transposeVNode=transposition_1.makeTransposeVNode(runStreamAdapter);var preprocessedVNode$=transposition?vnode$.map(transposeVNode).flatten():vnode$;var rootElement$=preprocessedVNode$.map(function(vnode){return vnodeWrapper.call(vnode)}).fold(patch,rootElement).drop(1).map(function unwrapElementFromVNode(vnode){return vnode.elm}).compose(function(stream){return xstream_1.default.merge(stream,xstream_1.default.never())}).startWith(rootElement);rootElement$.addListener({next:function(){},error:function(){},complete:function(){}});return new MainDOMSource_1.MainDOMSource(rootElement$,runStreamAdapter,[],isolateModule,delegators,name)}DOMDriver.streamAdapter=xstream_adapter_1.default;return DOMDriver}exports.makeDOMDriver=makeDOMDriver},{"./MainDOMSource":7,"./VNodeWrapper":9,"./isolateModule":15,"./modules":19,"./transposition":20,"./utils":21,"@cycle/xstream-adapter":33,"es6-map":79,snabbdom:152,xstream:163}],17:[function(require,module,exports){"use strict";var xstream_adapter_1=require("@cycle/xstream-adapter");var transposition_1=require("./transposition");var HTMLSource_1=require("./HTMLSource");var toHTML=require("snabbdom-to-html");var noop=function(){};function makeHTMLDriver(effect,options){if(!options){options={}}var transposition=options.transposition||false;function htmlDriver(vnode$,runStreamAdapter,name){var transposeVNode=transposition_1.makeTransposeVNode(runStreamAdapter);var preprocessedVNode$=transposition?vnode$.map(transposeVNode).flatten():vnode$;var html$=preprocessedVNode$.map(toHTML);html$.addListener({next:effect||noop,error:noop,complete:noop});return new HTMLSource_1.HTMLSource(html$,runStreamAdapter,name)}htmlDriver.streamAdapter=xstream_adapter_1.default;return htmlDriver}exports.makeHTMLDriver=makeHTMLDriver},{"./HTMLSource":6,"./transposition":20,"@cycle/xstream-adapter":33,"snabbdom-to-html":137}],18:[function(require,module,exports){"use strict";var xstream_adapter_1=require("@cycle/xstream-adapter");var xstream_1=require("xstream");var SCOPE_PREFIX="___";var MockedDOMSource=function(){function MockedDOMSource(_streamAdapter,_mockConfig){this._streamAdapter=_streamAdapter;this._mockConfig=_mockConfig;if(_mockConfig.elements){this._elements=_mockConfig.elements}else{this._elements=_streamAdapter.adapt(xstream_1.default.empty(),xstream_adapter_1.default.streamSubscribe)}}MockedDOMSource.prototype.elements=function(){var out=this._elements;out._isCycleSource="MockedDOM";return out};MockedDOMSource.prototype.events=function(eventType,options){var mockConfig=this._mockConfig;var keys=Object.keys(mockConfig);var keysLen=keys.length;for(var i=0;i<keysLen;i++){var key=keys[i];if(key===eventType){var out_1=mockConfig[key];out_1._isCycleSource="MockedDOM";return out_1}}var out=this._streamAdapter.adapt(xstream_1.default.empty(),xstream_adapter_1.default.streamSubscribe);out._isCycleSource="MockedDOM";return out};MockedDOMSource.prototype.select=function(selector){var mockConfig=this._mockConfig;var keys=Object.keys(mockConfig);var keysLen=keys.length;for(var i=0;i<keysLen;i++){var key=keys[i];if(key===selector){return new MockedDOMSource(this._streamAdapter,mockConfig[key])}}return new MockedDOMSource(this._streamAdapter,{})};MockedDOMSource.prototype.isolateSource=function(source,scope){return source.select("."+SCOPE_PREFIX+scope)};MockedDOMSource.prototype.isolateSink=function(sink,scope){return sink.map(function(vnode){if(vnode.sel.indexOf(SCOPE_PREFIX+scope)!==-1){return vnode}else{vnode.sel+="."+SCOPE_PREFIX+scope;return vnode}})};return MockedDOMSource}();exports.MockedDOMSource=MockedDOMSource;function mockDOMSource(streamAdapter,mockConfig){return new MockedDOMSource(streamAdapter,mockConfig)}exports.mockDOMSource=mockDOMSource},{"@cycle/xstream-adapter":33,xstream:163}],19:[function(require,module,exports){"use strict";var ClassModule=require("snabbdom/modules/class");exports.ClassModule=ClassModule;var PropsModule=require("snabbdom/modules/props");exports.PropsModule=PropsModule;var AttrsModule=require("snabbdom/modules/attributes");exports.AttrsModule=AttrsModule;var EventsModule=require("snabbdom/modules/eventlisteners");exports.EventsModule=EventsModule;var StyleModule=require("snabbdom/modules/style");exports.StyleModule=StyleModule;var HeroModule=require("snabbdom/modules/hero");exports.HeroModule=HeroModule;Object.defineProperty(exports,"__esModule",{value:true});exports.default=[StyleModule,ClassModule,PropsModule,AttrsModule]},{"snabbdom/modules/attributes":146,"snabbdom/modules/class":147,"snabbdom/modules/eventlisteners":148,"snabbdom/modules/hero":149,"snabbdom/modules/props":150,"snabbdom/modules/style":151}],20:[function(require,module,exports){"use strict";var xstream_adapter_1=require("@cycle/xstream-adapter");var xstream_1=require("xstream");function createVTree(vnode,children){return{sel:vnode.sel,data:vnode.data,text:vnode.text,elm:vnode.elm,key:vnode.key,children:children}}function makeTransposeVNode(runStreamAdapter){return function transposeVNode(vnode){if(!vnode){return null}else if(vnode&&typeof vnode.data==="object"&&vnode.data.static){return xstream_1.default.of(vnode)}else if(runStreamAdapter.isValidStream(vnode)){var xsStream=xstream_adapter_1.default.adapt(vnode,runStreamAdapter.streamSubscribe);return xsStream.map(transposeVNode).flatten()}else if(typeof vnode==="object"){if(!vnode.children||vnode.children.length===0){return xstream_1.default.of(vnode)}var vnodeChildren=vnode.children.map(transposeVNode).filter(function(x){return x!==null});if(vnodeChildren.length===0){return xstream_1.default.of(createVTree(vnode,[]))}else{return xstream_1.default.combine.apply(xstream_1.default,vnodeChildren).map(function(children){return createVTree(vnode,children.slice())})}}else{throw new Error("Unhandled vTree Value")}}}exports.makeTransposeVNode=makeTransposeVNode},{"@cycle/xstream-adapter":33,xstream:163}],21:[function(require,module,exports){"use strict";function isElement(obj){return typeof HTMLElement==="object"?obj instanceof HTMLElement||obj instanceof DocumentFragment:obj&&typeof obj==="object"&&obj!==null&&(obj.nodeType===1||obj.nodeType===11)&&typeof obj.nodeName==="string"}exports.SCOPE_PREFIX="$$CYCLEDOM$$-";function getElement(selectors){var domElement=typeof selectors==="string"?document.querySelector(selectors):selectors;if(typeof selectors==="string"&&domElement===null){throw new Error("Cannot render into unknown element `"+selectors+"`")}else if(!isElement(domElement)){throw new Error("Given container is not a DOM element neither a "+"selector string.")}return domElement}exports.getElement=getElement;function getScope(namespace){return namespace.filter(function(c){return c.indexOf(exports.SCOPE_PREFIX)>-1}).slice(-1).join("")}exports.getScope=getScope;function getSelectors(namespace){return namespace.filter(function(c){return c.indexOf(exports.SCOPE_PREFIX)===-1}).join(" ")}exports.getSelectors=getSelectors},{}],22:[function(require,module,exports){"use strict";var clickEvent="undefined"!==typeof document&&document.ontouchstart?"touchstart":"click";function which(ev){if(typeof window==="undefined"){return false}var e=ev||window.event;return e.which===null?e.button:e.which}function sameOrigin(href){if(typeof window==="undefined"){return false}return href&&href.indexOf(window.location.origin)===0}function makeClickListener(push){return function clickListener(event){if(which(event)!==1){return}if(event.metaKey||event.ctrlKey||event.shiftKey){return}if(event.defaultPrevented){return}var element=event.target;while(element&&element.nodeName!=="A"){element=element.parentNode}if(!element||element.nodeName!=="A"){return}if(element.hasAttribute("download")||element.getAttribute("rel")==="external"){return}if(element.target){return}var link=element.getAttribute("href");if(link&&link.indexOf("mailto:")>-1||link.charAt(0)==="#"){return}if(!sameOrigin(element.href)){return}event.preventDefault();var pathname=element.pathname,search=element.search,_a=element.hash,hash=_a===void 0?"":_a;push(pathname+search+hash)}}function captureClicks(push){var listener=makeClickListener(push);if(typeof window!=="undefined"){document.addEventListener(clickEvent,listener,false)}}exports.captureClicks=captureClicks},{}],23:[function(require,module,exports){"use strict";var makeHistoryDriver_1=require("./makeHistoryDriver");exports.makeHistoryDriver=makeHistoryDriver_1.makeHistoryDriver;var serverHistory_1=require("./serverHistory");exports.createServerHistory=serverHistory_1.createServerHistory;var util_1=require("./util");exports.supportsHistory=util_1.supportsHistory;exports.createLocation=util_1.createLocation},{"./makeHistoryDriver":24,"./serverHistory":25,"./util":26}],24:[function(require,module,exports){"use strict";var captureClicks_1=require("./captureClicks");function makeUpdateHistory(history){return function updateHistory(location){if(typeof location==="string"){history.push(history.createLocation(location))}else if(typeof location==="object"){var _a=location.type,type=_a===void 0?"push":_a;if(type==="go"){history[type](location)}else{history[type](location)}}else{throw new Error("History Driver input must be a string or an "+"object but received ${typeof url}")}}}function defaultOnErrorFn(err){if(console&&console.error!==void 0){console.error(err)}}function makeHistoryDriver(history,options){if(!history||typeof history!=="object"||typeof history.createLocation!=="function"||typeof history.createHref!=="function"||typeof history.listen!=="function"||typeof history.push!=="function"){throw new TypeError("makeHistoryDriver requires an valid history object "+"containing createLocation(), createHref(), push(), and listen() methods")}var capture=options&&options.capture||false;var onError=options&&options.onError||defaultOnErrorFn;return function historyDriver(sink$,runSA){var _a=runSA.makeSubject(),observer=_a.observer,stream=_a.stream;var history$=runSA.remember(stream.startWith(history.getCurrentLocation()).filter(Boolean));var unlisten=history.listen(function(location){observer.next(location)});if(typeof history.addCompleteCallback==="function"&&typeof history.complete==="function"){history.addCompleteCallback(function(){observer.complete()})}runSA.streamSubscribe(sink$,{next:makeUpdateHistory(history),error:onError,complete:function(){unlisten();observer.complete()}});if(capture){captureClicks_1.captureClicks(function(pathname){var location=history.createLocation(pathname);history.push(location)})}history$.createHref=function(href){return history.createHref(href)};history$.createLocation=function(location){return history.createLocation(location)};return history$}}exports.makeHistoryDriver=makeHistoryDriver},{"./captureClicks":22}],25:[function(require,module,exports){"use strict";var util_1=require("./util");var ServerHistory=function(){function ServerHistory(currentLocation){this.currentLocation=currentLocation;this.listeners=[]}ServerHistory.prototype.listen=function(listener){this.listeners.push(listener);return function noop(){return void 0}};ServerHistory.prototype.push=function(location){var length=this.listeners.length;if(length===0){throw new Error("Must be given at least one listener before pushing")}for(var i=0;i<length;++i){this.listeners[i](util_1.createLocation(location))}};ServerHistory.prototype.replace=function(location){this.push(location)};ServerHistory.prototype.createHref=function(path){return path};ServerHistory.prototype.createLocation=function(location){return util_1.createLocation(location)};ServerHistory.prototype.getCurrentLocation=function(){return this.currentLocation};ServerHistory.prototype.addCompleteCallback=function(complete){this._completeCallback=complete};ServerHistory.prototype.complete=function(){this._completeCallback()};return ServerHistory}();function createServerHistory(loc){return new ServerHistory(loc?util_1.createLocation(loc):null)}exports.createServerHistory=createServerHistory},{"./util":26}],26:[function(require,module,exports){"use strict";var objectAssign=require("object-assign");function supportsHistory(){if(typeof navigator==="undefined"){return false}var ua=navigator.userAgent;if((ua.indexOf("Android 2.")!==-1||ua.indexOf("Android 4.0")!==-1)&&ua.indexOf("Mobile Safari")!==-1&&ua.indexOf("Chrome")===-1&&ua.indexOf("Windows Phone")===-1){return false}if(typeof window!=="undefined"){return window.history&&"pushState"in window.history}else{return false}}exports.supportsHistory=supportsHistory;var locationDefaults={pathname:"/",action:"POP",hash:"",search:"",state:undefined,key:null,query:null};function createLocation(location){if(typeof location==="string"){return objectAssign({},locationDefaults,{pathname:location})}return objectAssign({},locationDefaults,location)}exports.createLocation=createLocation},{"object-assign":131}],27:[function(require,module,exports){"use strict";var counter=0;function newScope(){return"cycle"+ ++counter}function checkIsolateArgs(dataflowComponent,scope){if(typeof dataflowComponent!=="function"){throw new Error("First argument given to isolate() must be a "+"'dataflowComponent' function")}if(scope===null){throw new Error("Second argument given to isolate() must not be null")}}function isolateAllSources(sources,scope){var scopedSources={};for(var key in sources){if(sources.hasOwnProperty(key)&&sources[key]&&typeof sources[key].isolateSource==="function"){scopedSources[key]=sources[key].isolateSource(sources[key],scope)}else if(sources.hasOwnProperty(key)){scopedSources[key]=sources[key]}}return scopedSources}function isolateAllSinks(sources,sinks,scope){var scopedSinks={};for(var key in sinks){if(sinks.hasOwnProperty(key)&&sources[key]&&typeof sources[key].isolateSink==="function"){scopedSinks[key]=sources[key].isolateSink(sinks[key],scope)}else if(sinks.hasOwnProperty(key)){scopedSinks[key]=sinks[key]}}return scopedSinks}function isolate(component,scope){if(scope===void 0){scope=newScope()}checkIsolateArgs(component,scope);var convertedScope=typeof scope==="string"?scope:scope.toString();return function scopedComponent(sources){var rest=[];for(var _i=1;_i<arguments.length;_i++){rest[_i-1]=arguments[_i]}var scopedSources=isolateAllSources(sources,convertedScope);var sinks=component.apply(void 0,[scopedSources].concat(rest));var scopedSinks=isolateAllSinks(sources,sinks,convertedScope);return scopedSinks}}isolate.reset=function(){return counter=0};Object.defineProperty(exports,"__esModule",{value:true});exports.default=isolate},{}],28:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xstreamAdapter=require("@cycle/xstream-adapter");var _xstreamAdapter2=_interopRequireDefault(_xstreamAdapter);var _writeToStore=require("./writeToStore");var _writeToStore2=_interopRequireDefault(_writeToStore);var _responseCollection=require("./responseCollection");var _responseCollection2=_interopRequireDefault(_responseCollection);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function storageDriver(request$,runStreamAdapter){request$.addListener({next:function next(request){return(0,_writeToStore2.default)(request)},error:function error(){},complete:function complete(){}});return(0,_responseCollection2.default)(request$,runStreamAdapter)}storageDriver.streamAdapter=_xstreamAdapter2.default;exports.default=storageDriver},{"./responseCollection":29,"./writeToStore":31,"@cycle/xstream-adapter":32}],29:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(request$,runStreamAdapter){return{get local(){return(0,_util2.default)(request$,runStreamAdapter)},get session(){return(0,_util2.default)(request$,runStreamAdapter,"session")}}};var _util=require("./util");var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},{"./util":30}],30:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=getResponseObj;var _dropRepeats=require("xstream/extra/dropRepeats");var _dropRepeats2=_interopRequireDefault(_dropRepeats);var _xstreamAdapter=require("@cycle/xstream-adapter");var _xstreamAdapter2=_interopRequireDefault(_xstreamAdapter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getStorage$(request$,type){if(type==="local"){return request$.filter(function(req){return!req.target||req.target==="local"})}else{return request$.filter(function(req){return req.target==="session"})}}function storageKey(n,request$){var type=arguments.length<=2||arguments[2]===undefined?"local":arguments[2];var storage$=getStorage$(request$,type);var key=type==="local"?localStorage.key(n):sessionStorage.key(n);return storage$.filter(function(req){return req.key===key}).map(function(req){return req.key}).startWith(key).compose((0,_dropRepeats2.default)())}function storageGetItem(key,request$){var type=arguments.length<=2||arguments[2]===undefined?"local":arguments[2];var storage$=getStorage$(request$,type);var storageObj=type==="local"?localStorage:sessionStorage;return storage$.filter(function(req){return req.key===key}).map(function(req){return req.value}).startWith(storageObj.getItem(key))}function getResponseObj(request$,runSA){var type=arguments.length<=2||arguments[2]===undefined?"local":arguments[2];return{key:function key(n){return runSA.adapt(storageKey(n,request$,type),_xstreamAdapter2.default.streamSubscribe)},getItem:function getItem(key){return runSA.adapt(storageGetItem(key,request$,type),_xstreamAdapter2.default.streamSubscribe)}}}},{"@cycle/xstream-adapter":32,"xstream/extra/dropRepeats":161}],31:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function writeToStore(_ref){var _ref$target=_ref.target;var target=_ref$target===undefined?"local":_ref$target;var _ref$action=_ref.action;var action=_ref$action===undefined?"setItem":_ref$action;var key=_ref.key;var value=_ref.value;var storage=target==="local"?localStorage:sessionStorage;storage[action](key,value)}exports.default=writeToStore},{}],32:[function(require,module,exports){"use strict";var xstream_1=require("xstream");function logToConsoleError(err){var target=err.stack||err;if(console&&console.error){console.error(target)}else if(console&&console.log){console.log(target)}}var XStreamAdapter={adapt:function(originStream,originStreamSubscribe){if(XStreamAdapter.isValidStream(originStream)){return originStream}var dispose=null;return xstream_1.default.create({start:function(out){var observer={next:function(value){return out.shamefullySendNext(value)},error:function(err){return out.shamefullySendError(err)},complete:function(){return out.shamefullySendComplete()}};dispose=originStreamSubscribe(originStream,observer)},stop:function(){if(typeof dispose==="function"){dispose()}}})},dispose:function(sinks,sinkProxies,sources){Object.keys(sources).forEach(function(k){if(typeof sources[k].dispose==="function"){sources[k].dispose()}});Object.keys(sinks).forEach(function(k){sinks[k].removeListener(sinkProxies[k].stream)})},makeHoldSubject:function(){var stream=xstream_1.default.createWithMemory();var observer={next:function(x){stream.shamefullySendNext(x)},error:function(err){logToConsoleError(err);stream.shamefullySendError(err)},complete:function(){stream.shamefullySendComplete()}};return{observer:observer,stream:stream}},isValidStream:function(stream){return typeof stream.addListener==="function"&&typeof stream.shamefullySendNext==="function"},streamSubscribe:function(stream,observer){stream.addListener(observer);return function(){return stream.removeListener(observer)}}};Object.defineProperty(exports,"__esModule",{value:true});exports.default=XStreamAdapter},{xstream:163}],33:[function(require,module,exports){"use strict";var xstream_1=require("xstream");var XStreamAdapter={adapt:function(originStream,originStreamSubscribe){if(XStreamAdapter.isValidStream(originStream)){return originStream}var dispose=null;return xstream_1.default.create({start:function(out){var observer=out;dispose=originStreamSubscribe(originStream,observer)},stop:function(){if(typeof dispose==="function"){dispose()}}})},makeSubject:function(){var stream=xstream_1.default.create();var observer={next:function(x){stream.shamefullySendNext(x)},error:function(err){stream.shamefullySendError(err)},complete:function(){stream.shamefullySendComplete()}};return{observer:observer,stream:stream}},remember:function(stream){return stream.remember()},isValidStream:function(stream){return typeof stream.addListener==="function"&&typeof stream.shamefullySendNext==="function"},streamSubscribe:function(stream,observer){stream.addListener(observer);return function(){return stream.removeListener(observer)}}};Object.defineProperty(exports,"__esModule",{value:true});exports.default=XStreamAdapter},{xstream:163}],34:[function(require,module,exports){"use strict";var base_1=require("@cycle/base");var xstream_adapter_1=require("@cycle/xstream-adapter");function run(main,drivers){var _a=base_1.default(main,drivers,{streamAdapter:xstream_adapter_1.default}),run=_a.run,sinks=_a.sinks;if(typeof window!=="undefined"&&window["CyclejsDevTool_startGraphSerializer"]){window["CyclejsDevTool_startGraphSerializer"](sinks)}return run()}exports.run=run;var Cycle=function(main,drivers){var out=base_1.default(main,drivers,{streamAdapter:xstream_adapter_1.default});if(typeof window!=="undefined"&&window["CyclejsDevTool_startGraphSerializer"]){window["CyclejsDevTool_startGraphSerializer"](out.sinks)}return out};Cycle.run=run;Object.defineProperty(exports,"__esModule",{value:true});exports.default=Cycle},{"@cycle/base":1,"@cycle/xstream-adapter":33}],35:[function(require,module,exports){module.exports=function split(undef){var nativeSplit=String.prototype.split,compliantExecNpcg=/()??/.exec("")[1]===undef,self;self=function(str,separator,limit){if(Object.prototype.toString.call(separator)!=="[object RegExp]"){return nativeSplit.call(str,separator,limit)}var output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.extended?"x":"")+(separator.sticky?"y":""),lastLastIndex=0,separator=new RegExp(separator.source,flags+"g"),separator2,match,lastIndex,lastLength;str+="";if(!compliantExecNpcg){separator2=new RegExp("^"+separator.source+"$(?!\\s)",flags)}limit=limit===undef?-1>>>0:limit>>>0;while(match=separator.exec(str)){lastIndex=match.index+match[0].length;if(lastIndex>lastLastIndex){output.push(str.slice(lastLastIndex,match.index));if(!compliantExecNpcg&&match.length>1){match[0].replace(separator2,function(){for(var i=1;i<arguments.length-2;i++){if(arguments[i]===undef){match[i]=undef}}})}if(match.length>1&&match.index<str.length){Array.prototype.push.apply(output,match.slice(1))}lastLength=match[0].length;lastLastIndex=lastIndex;if(output.length>=limit){break}}if(separator.lastIndex===match.index){separator.lastIndex++}}if(lastLastIndex===str.length){if(lastLength||!separator.test("")){output.push("")}}else{output.push(str.slice(lastLastIndex))}return output.length>limit?output.slice(0,limit):output};return self}()},{}],36:[function(require,module,exports){"use strict";var xstream_1=require("xstream");function pick(selector){if(typeof selector==="string"){return function pickWithString(sinksArray$){return sinksArray$.map(function(sinksArray){return sinksArray.map(function(sinks){return sinks[selector]})})}}else{return function pickWithFunction(sinksArray$){return sinksArray$.map(function(sinksArray){return sinksArray.map(selector)})}}}exports.pick=pick;function mix(aggregator){return function mixOperator(streamArray$){return streamArray$.map(function(streamArray){return aggregator.apply(void 0,streamArray)}).flatten()}}exports.mix=mix;function updateArrayEntry(array,index,reducer){var newVal=reducer(array[index]);if(typeof newVal==="undefined"){return array.filter(function(val,i){return i!==index})}else{return array.map(function(val,i){return i===index?newVal:val})}}function isolateSource(source,scope){return source.select(scope)}exports.isolateSource=isolateSource;function isolateSink(reducer$,scope){return reducer$.map(function(reducer){return function(state){var index=parseInt(scope);if(Array.isArray(state)&&typeof index==="number"){return updateArrayEntry(state,index,reducer)}else if(typeof state==="undefined"){return _a={},_a[scope]=reducer(void 0),_a}else{return Object.assign({},state,(_b={},_b[scope]=reducer(state[scope]),_b))}var _a,_b}})}exports.isolateSink=isolateSink;var StateSource=function(){function StateSource(stream,name){this.isolateSource=isolateSource;this.isolateSink=isolateSink;this._name=name;this.state$=stream.remember();if(!name){return}this.state$._isCycleSource=name}StateSource.prototype.select=function(scope){return new StateSource(this.state$.map(function(state){return state[scope]}).filter(function(s){return!!s}),null)};return StateSource}();exports.StateSource=StateSource;function onionify(main,name){if(name===void 0){name="onion"}return function augmentedMain(sources){var reducerMimic$=xstream_1.default.create();var state$=reducerMimic$.fold(function(state,reducer){return reducer(state)},void 0).drop(1);sources[name]=new StateSource(state$,name);var sinks=main(sources);reducerMimic$.imitate(sinks[name]);return sinks}}Object.defineProperty(exports,"__esModule",{value:true});exports.default=onionify},{xstream:163}],37:[function(require,module,exports){"use strict";var xstream_1=require("xstream");function serialize(state){return JSON.stringify(state)}function deserialize(str){return JSON.parse(str)||{}}function storageify(Component,options){var _options=Object.assign({key:"storageify",serialize:serialize,deserialize:deserialize},options);return function(sources){var localStorage$=sources.storage.local.getItem(_options.key).take(1);var storedData$=localStorage$.map(_options.deserialize);var state$=sources.onion.state$;var componentSinks=Component(sources);var childReducer$=componentSinks.onion;var initialReducer$=xstream_1.default.combine(storedData$,childReducer$.take(1)).map(function(_a){var storedState=_a[0],initialReducerChild=_a[1];return function(prevState){return Object.assign(initialReducerChild(prevState),storedState)}});var parentReducer$=xstream_1.default.merge(initialReducer$,childReducer$.drop(1));var storage$=state$.map(_options.serialize).map(function(value){return{key:_options.key,value:value}});var sinks=Object.assign(componentSinks,{onion:parentReducer$,storage:storage$});return sinks}}Object.defineProperty(exports,"__esModule",{value:true});exports.default=storageify},{xstream:163}],38:[function(require,module,exports){"use strict";var copy=require("es5-ext/object/copy"),map=require("es5-ext/object/map"),callable=require("es5-ext/object/valid-callable"),validValue=require("es5-ext/object/valid-value"),bind=Function.prototype.bind,defineProperty=Object.defineProperty,hasOwnProperty=Object.prototype.hasOwnProperty,define;define=function(name,desc,bindTo){var value=validValue(desc)&&callable(desc.value),dgs;dgs=copy(desc);delete dgs.writable;delete dgs.value;dgs.get=function(){if(hasOwnProperty.call(this,name))return value;desc.value=bind.call(value,bindTo==null?this:this[bindTo]);defineProperty(this,name,desc);return this[name]};return dgs};module.exports=function(props){var bindTo=arguments[1];return map(props,function(desc,name){return define(name,desc,bindTo)})}},{"es5-ext/object/copy":52,"es5-ext/object/map":60,"es5-ext/object/valid-callable":66,"es5-ext/object/valid-value":67}],39:[function(require,module,exports){"use strict";var assign=require("es5-ext/object/assign"),normalizeOpts=require("es5-ext/object/normalize-options"),isCallable=require("es5-ext/object/is-callable"),contains=require("es5-ext/string/#/contains"),d;d=module.exports=function(dscr,value){var c,e,w,options,desc;if(arguments.length<2||typeof dscr!=="string"){options=value;value=dscr;dscr=null}else{options=arguments[2]}if(dscr==null){c=w=true;e=false}else{c=contains.call(dscr,"c");e=contains.call(dscr,"e");w=contains.call(dscr,"w")}desc={value:value,configurable:c,enumerable:e,writable:w};return!options?desc:assign(normalizeOpts(options),desc)};d.gs=function(dscr,get,set){var c,e,options,desc;if(typeof dscr!=="string"){options=set;set=get;get=dscr;dscr=null}else{options=arguments[3]}if(get==null){get=undefined}else if(!isCallable(get)){options=get;get=set=undefined}else if(set==null){set=undefined}else if(!isCallable(set)){options=set;set=undefined}if(dscr==null){c=true;e=false}else{c=contains.call(dscr,"c");e=contains.call(dscr,"e")}desc={get:get,set:set,configurable:c,enumerable:e};return!options?desc:assign(normalizeOpts(options),desc)}},{"es5-ext/object/assign":49,"es5-ext/object/is-callable":55,"es5-ext/object/normalize-options":61,"es5-ext/string/#/contains":68}],40:[function(require,module,exports){"use strict";var value=require("../../object/valid-value");module.exports=function(){value(this).length=0;return this}},{"../../object/valid-value":67}],41:[function(require,module,exports){"use strict";var toPosInt=require("../../number/to-pos-integer"),value=require("../../object/valid-value"),indexOf=Array.prototype.indexOf,hasOwnProperty=Object.prototype.hasOwnProperty,abs=Math.abs,floor=Math.floor;module.exports=function(searchElement){var i,l,fromIndex,val;if(searchElement===searchElement){return indexOf.apply(this,arguments)}l=toPosInt(value(this).length);fromIndex=arguments[1];if(isNaN(fromIndex))fromIndex=0;else if(fromIndex>=0)fromIndex=floor(fromIndex);else fromIndex=toPosInt(this.length)-floor(abs(fromIndex));for(i=fromIndex;i<l;++i){if(hasOwnProperty.call(this,i)){val=this[i];if(val!==val)return i}}return-1}},{"../../number/to-pos-integer":47,"../../object/valid-value":67}],42:[function(require,module,exports){"use strict";var toString=Object.prototype.toString,id=toString.call(function(){return arguments}());module.exports=function(x){return toString.call(x)===id}},{}],43:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?Math.sign:require("./shim")},{"./is-implemented":44,"./shim":45}],44:[function(require,module,exports){"use strict";module.exports=function(){var sign=Math.sign;if(typeof sign!=="function")return false;return sign(10)===1&&sign(-20)===-1}},{}],45:[function(require,module,exports){"use strict";module.exports=function(value){value=Number(value);if(isNaN(value)||value===0)return value;return value>0?1:-1}},{}],46:[function(require,module,exports){"use strict";var sign=require("../math/sign"),abs=Math.abs,floor=Math.floor;module.exports=function(value){if(isNaN(value))return 0;value=Number(value);if(value===0||!isFinite(value))return value;return sign(value)*floor(abs(value))}},{"../math/sign":43}],47:[function(require,module,exports){"use strict";var toInteger=require("./to-integer"),max=Math.max;module.exports=function(value){return max(0,toInteger(value))}},{"./to-integer":46
}],48:[function(require,module,exports){"use strict";var callable=require("./valid-callable"),value=require("./valid-value"),bind=Function.prototype.bind,call=Function.prototype.call,keys=Object.keys,propertyIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(method,defVal){return function(obj,cb){var list,thisArg=arguments[2],compareFn=arguments[3];obj=Object(value(obj));callable(cb);list=keys(obj);if(compareFn){list.sort(typeof compareFn==="function"?bind.call(compareFn,obj):undefined)}if(typeof method!=="function")method=list[method];return call.call(method,list,function(key,index){if(!propertyIsEnumerable.call(obj,key))return defVal;return call.call(cb,thisArg,obj[key],key,obj,index)})}}},{"./valid-callable":66,"./valid-value":67}],49:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?Object.assign:require("./shim")},{"./is-implemented":50,"./shim":51}],50:[function(require,module,exports){"use strict";module.exports=function(){var assign=Object.assign,obj;if(typeof assign!=="function")return false;obj={foo:"raz"};assign(obj,{bar:"dwa"},{trzy:"trzy"});return obj.foo+obj.bar+obj.trzy==="razdwatrzy"}},{}],51:[function(require,module,exports){"use strict";var keys=require("../keys"),value=require("../valid-value"),max=Math.max;module.exports=function(dest,src){var error,i,l=max(arguments.length,2),assign;dest=Object(value(dest));assign=function(key){try{dest[key]=src[key]}catch(e){if(!error)error=e}};for(i=1;i<l;++i){src=arguments[i];keys(src).forEach(assign)}if(error!==undefined)throw error;return dest}},{"../keys":57,"../valid-value":67}],52:[function(require,module,exports){"use strict";var assign=require("./assign"),value=require("./valid-value");module.exports=function(obj){var copy=Object(value(obj));if(copy!==obj)return copy;return assign({},obj)}},{"./assign":49,"./valid-value":67}],53:[function(require,module,exports){"use strict";var create=Object.create,shim;if(!require("./set-prototype-of/is-implemented")()){shim=require("./set-prototype-of/shim")}module.exports=function(){var nullObject,props,desc;if(!shim)return create;if(shim.level!==1)return create;nullObject={};props={};desc={configurable:false,enumerable:false,writable:true,value:undefined};Object.getOwnPropertyNames(Object.prototype).forEach(function(name){if(name==="__proto__"){props[name]={configurable:true,enumerable:false,writable:true,value:undefined};return}props[name]=desc});Object.defineProperties(nullObject,props);Object.defineProperty(shim,"nullPolyfill",{configurable:false,enumerable:false,writable:false,value:nullObject});return function(prototype,props){return create(prototype===null?nullObject:prototype,props)}}()},{"./set-prototype-of/is-implemented":64,"./set-prototype-of/shim":65}],54:[function(require,module,exports){"use strict";module.exports=require("./_iterate")("forEach")},{"./_iterate":48}],55:[function(require,module,exports){"use strict";module.exports=function(obj){return typeof obj==="function"}},{}],56:[function(require,module,exports){"use strict";var map={"function":true,object:true};module.exports=function(x){return x!=null&&map[typeof x]||false}},{}],57:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?Object.keys:require("./shim")},{"./is-implemented":58,"./shim":59}],58:[function(require,module,exports){"use strict";module.exports=function(){try{Object.keys("primitive");return true}catch(e){return false}}},{}],59:[function(require,module,exports){"use strict";var keys=Object.keys;module.exports=function(object){return keys(object==null?object:Object(object))}},{}],60:[function(require,module,exports){"use strict";var callable=require("./valid-callable"),forEach=require("./for-each"),call=Function.prototype.call;module.exports=function(obj,cb){var o={},thisArg=arguments[2];callable(cb);forEach(obj,function(value,key,obj,index){o[key]=call.call(cb,thisArg,value,key,obj,index)});return o}},{"./for-each":54,"./valid-callable":66}],61:[function(require,module,exports){"use strict";var forEach=Array.prototype.forEach,create=Object.create;var process=function(src,obj){var key;for(key in src)obj[key]=src[key]};module.exports=function(options){var result=create(null);forEach.call(arguments,function(options){if(options==null)return;process(Object(options),result)});return result}},{}],62:[function(require,module,exports){"use strict";var forEach=Array.prototype.forEach,create=Object.create;module.exports=function(arg){var set=create(null);forEach.call(arguments,function(name){set[name]=true});return set}},{}],63:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?Object.setPrototypeOf:require("./shim")},{"./is-implemented":64,"./shim":65}],64:[function(require,module,exports){"use strict";var create=Object.create,getPrototypeOf=Object.getPrototypeOf,x={};module.exports=function(){var setPrototypeOf=Object.setPrototypeOf,customCreate=arguments[0]||create;if(typeof setPrototypeOf!=="function")return false;return getPrototypeOf(setPrototypeOf(customCreate(null),x))===x}},{}],65:[function(require,module,exports){"use strict";var isObject=require("../is-object"),value=require("../valid-value"),isPrototypeOf=Object.prototype.isPrototypeOf,defineProperty=Object.defineProperty,nullDesc={configurable:true,enumerable:false,writable:true,value:undefined},validate;validate=function(obj,prototype){value(obj);if(prototype===null||isObject(prototype))return obj;throw new TypeError("Prototype must be null or an object")};module.exports=function(status){var fn,set;if(!status)return null;if(status.level===2){if(status.set){set=status.set;fn=function(obj,prototype){set.call(validate(obj,prototype),prototype);return obj}}else{fn=function(obj,prototype){validate(obj,prototype).__proto__=prototype;return obj}}}else{fn=function self(obj,prototype){var isNullBase;validate(obj,prototype);isNullBase=isPrototypeOf.call(self.nullPolyfill,obj);if(isNullBase)delete self.nullPolyfill.__proto__;if(prototype===null)prototype=self.nullPolyfill;obj.__proto__=prototype;if(isNullBase)defineProperty(self.nullPolyfill,"__proto__",nullDesc);return obj}}return Object.defineProperty(fn,"level",{configurable:false,enumerable:false,writable:false,value:status.level})}(function(){var x=Object.create(null),y={},set,desc=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(desc){try{set=desc.set;set.call(x,y)}catch(ignore){}if(Object.getPrototypeOf(x)===y)return{set:set,level:2}}x.__proto__=y;if(Object.getPrototypeOf(x)===y)return{level:2};x={};x.__proto__=y;if(Object.getPrototypeOf(x)===y)return{level:1};return false}());require("../create")},{"../create":53,"../is-object":56,"../valid-value":67}],66:[function(require,module,exports){"use strict";module.exports=function(fn){if(typeof fn!=="function")throw new TypeError(fn+" is not a function");return fn}},{}],67:[function(require,module,exports){"use strict";module.exports=function(value){if(value==null)throw new TypeError("Cannot use null or undefined");return value}},{}],68:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?String.prototype.contains:require("./shim")},{"./is-implemented":69,"./shim":70}],69:[function(require,module,exports){"use strict";var str="razdwatrzy";module.exports=function(){if(typeof str.contains!=="function")return false;return str.contains("dwa")===true&&str.contains("foo")===false}},{}],70:[function(require,module,exports){"use strict";var indexOf=String.prototype.indexOf;module.exports=function(searchString){return indexOf.call(this,searchString,arguments[1])>-1}},{}],71:[function(require,module,exports){"use strict";var toString=Object.prototype.toString,id=toString.call("");module.exports=function(x){return typeof x==="string"||x&&typeof x==="object"&&(x instanceof String||toString.call(x)===id)||false}},{}],72:[function(require,module,exports){"use strict";var setPrototypeOf=require("es5-ext/object/set-prototype-of"),contains=require("es5-ext/string/#/contains"),d=require("d"),Iterator=require("./"),defineProperty=Object.defineProperty,ArrayIterator;ArrayIterator=module.exports=function(arr,kind){if(!(this instanceof ArrayIterator))return new ArrayIterator(arr,kind);Iterator.call(this,arr);if(!kind)kind="value";else if(contains.call(kind,"key+value"))kind="key+value";else if(contains.call(kind,"key"))kind="key";else kind="value";defineProperty(this,"__kind__",d("",kind))};if(setPrototypeOf)setPrototypeOf(ArrayIterator,Iterator);ArrayIterator.prototype=Object.create(Iterator.prototype,{constructor:d(ArrayIterator),_resolve:d(function(i){if(this.__kind__==="value")return this.__list__[i];if(this.__kind__==="key+value")return[i,this.__list__[i]];return i}),toString:d(function(){return"[object Array Iterator]"})})},{"./":75,d:39,"es5-ext/object/set-prototype-of":63,"es5-ext/string/#/contains":68}],73:[function(require,module,exports){"use strict";var isArguments=require("es5-ext/function/is-arguments"),callable=require("es5-ext/object/valid-callable"),isString=require("es5-ext/string/is-string"),get=require("./get"),isArray=Array.isArray,call=Function.prototype.call,some=Array.prototype.some;module.exports=function(iterable,cb){var mode,thisArg=arguments[2],result,doBreak,broken,i,l,char,code;if(isArray(iterable)||isArguments(iterable))mode="array";else if(isString(iterable))mode="string";else iterable=get(iterable);callable(cb);doBreak=function(){broken=true};if(mode==="array"){some.call(iterable,function(value){call.call(cb,thisArg,value,doBreak);if(broken)return true});return}if(mode==="string"){l=iterable.length;for(i=0;i<l;++i){char=iterable[i];if(i+1<l){code=char.charCodeAt(0);if(code>=55296&&code<=56319)char+=iterable[++i]}call.call(cb,thisArg,char,doBreak);if(broken)break}return}result=iterable.next();while(!result.done){call.call(cb,thisArg,result.value,doBreak);if(broken)return;result=iterable.next()}}},{"./get":74,"es5-ext/function/is-arguments":42,"es5-ext/object/valid-callable":66,"es5-ext/string/is-string":71}],74:[function(require,module,exports){"use strict";var isArguments=require("es5-ext/function/is-arguments"),isString=require("es5-ext/string/is-string"),ArrayIterator=require("./array"),StringIterator=require("./string"),iterable=require("./valid-iterable"),iteratorSymbol=require("es6-symbol").iterator;module.exports=function(obj){if(typeof iterable(obj)[iteratorSymbol]==="function")return obj[iteratorSymbol]();if(isArguments(obj))return new ArrayIterator(obj);if(isString(obj))return new StringIterator(obj);return new ArrayIterator(obj)}},{"./array":72,"./string":77,"./valid-iterable":78,"es5-ext/function/is-arguments":42,"es5-ext/string/is-string":71,"es6-symbol":85}],75:[function(require,module,exports){"use strict";var clear=require("es5-ext/array/#/clear"),assign=require("es5-ext/object/assign"),callable=require("es5-ext/object/valid-callable"),value=require("es5-ext/object/valid-value"),d=require("d"),autoBind=require("d/auto-bind"),Symbol=require("es6-symbol"),defineProperty=Object.defineProperty,defineProperties=Object.defineProperties,Iterator;module.exports=Iterator=function(list,context){if(!(this instanceof Iterator))return new Iterator(list,context);defineProperties(this,{__list__:d("w",value(list)),__context__:d("w",context),__nextIndex__:d("w",0)});if(!context)return;callable(context.on);context.on("_add",this._onAdd);context.on("_delete",this._onDelete);context.on("_clear",this._onClear)};defineProperties(Iterator.prototype,assign({constructor:d(Iterator),_next:d(function(){var i;if(!this.__list__)return;if(this.__redo__){i=this.__redo__.shift();if(i!==undefined)return i}if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}),next:d(function(){return this._createResult(this._next())}),_createResult:d(function(i){if(i===undefined)return{done:true,value:undefined};return{done:false,value:this._resolve(i)}}),_resolve:d(function(i){return this.__list__[i]}),_unBind:d(function(){this.__list__=null;delete this.__redo__;if(!this.__context__)return;this.__context__.off("_add",this._onAdd);this.__context__.off("_delete",this._onDelete);this.__context__.off("_clear",this._onClear);this.__context__=null}),toString:d(function(){return"[object Iterator]"})},autoBind({_onAdd:d(function(index){if(index>=this.__nextIndex__)return;++this.__nextIndex__;if(!this.__redo__){defineProperty(this,"__redo__",d("c",[index]));return}this.__redo__.forEach(function(redo,i){if(redo>=index)this.__redo__[i]=++redo},this);this.__redo__.push(index)}),_onDelete:d(function(index){var i;if(index>=this.__nextIndex__)return;--this.__nextIndex__;if(!this.__redo__)return;i=this.__redo__.indexOf(index);if(i!==-1)this.__redo__.splice(i,1);this.__redo__.forEach(function(redo,i){if(redo>index)this.__redo__[i]=--redo},this)}),_onClear:d(function(){if(this.__redo__)clear.call(this.__redo__);this.__nextIndex__=0})})));defineProperty(Iterator.prototype,Symbol.iterator,d(function(){return this}));defineProperty(Iterator.prototype,Symbol.toStringTag,d("","Iterator"))},{d:39,"d/auto-bind":38,"es5-ext/array/#/clear":40,"es5-ext/object/assign":49,"es5-ext/object/valid-callable":66,"es5-ext/object/valid-value":67,"es6-symbol":85}],76:[function(require,module,exports){"use strict";var isArguments=require("es5-ext/function/is-arguments"),isString=require("es5-ext/string/is-string"),iteratorSymbol=require("es6-symbol").iterator,isArray=Array.isArray;module.exports=function(value){if(value==null)return false;if(isArray(value))return true;if(isString(value))return true;if(isArguments(value))return true;return typeof value[iteratorSymbol]==="function"}},{"es5-ext/function/is-arguments":42,"es5-ext/string/is-string":71,"es6-symbol":85}],77:[function(require,module,exports){"use strict";var setPrototypeOf=require("es5-ext/object/set-prototype-of"),d=require("d"),Iterator=require("./"),defineProperty=Object.defineProperty,StringIterator;StringIterator=module.exports=function(str){if(!(this instanceof StringIterator))return new StringIterator(str);str=String(str);Iterator.call(this,str);defineProperty(this,"__length__",d("",str.length))};if(setPrototypeOf)setPrototypeOf(StringIterator,Iterator);StringIterator.prototype=Object.create(Iterator.prototype,{constructor:d(StringIterator),_next:d(function(){if(!this.__list__)return;if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}),_resolve:d(function(i){var char=this.__list__[i],code;if(this.__nextIndex__===this.__length__)return char;code=char.charCodeAt(0);if(code>=55296&&code<=56319)return char+this.__list__[this.__nextIndex__++];return char}),toString:d(function(){return"[object String Iterator]"})})},{"./":75,d:39,"es5-ext/object/set-prototype-of":63}],78:[function(require,module,exports){"use strict";var isIterable=require("./is-iterable");module.exports=function(value){if(!isIterable(value))throw new TypeError(value+" is not iterable");return value}},{"./is-iterable":76}],79:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?Map:require("./polyfill")},{"./is-implemented":80,"./polyfill":84}],80:[function(require,module,exports){"use strict";module.exports=function(){var map,iterator,result;if(typeof Map!=="function")return false;try{map=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(e){return false}if(String(map)!=="[object Map]")return false;if(map.size!==3)return false;if(typeof map.clear!=="function")return false;if(typeof map.delete!=="function")return false;if(typeof map.entries!=="function")return false;if(typeof map.forEach!=="function")return false;if(typeof map.get!=="function")return false;if(typeof map.has!=="function")return false;if(typeof map.keys!=="function")return false;if(typeof map.set!=="function")return false;if(typeof map.values!=="function")return false;iterator=map.entries();result=iterator.next();if(result.done!==false)return false;if(!result.value)return false;if(result.value[0]!=="raz")return false;if(result.value[1]!=="one")return false;return true}},{}],81:[function(require,module,exports){"use strict";module.exports=function(){if(typeof Map==="undefined")return false;return Object.prototype.toString.call(new Map)==="[object Map]"}()},{}],82:[function(require,module,exports){"use strict";module.exports=require("es5-ext/object/primitive-set")("key","value","key+value")},{"es5-ext/object/primitive-set":62}],83:[function(require,module,exports){"use strict";var setPrototypeOf=require("es5-ext/object/set-prototype-of"),d=require("d"),Iterator=require("es6-iterator"),toStringTagSymbol=require("es6-symbol").toStringTag,kinds=require("./iterator-kinds"),defineProperties=Object.defineProperties,unBind=Iterator.prototype._unBind,MapIterator;MapIterator=module.exports=function(map,kind){if(!(this instanceof MapIterator))return new MapIterator(map,kind);Iterator.call(this,map.__mapKeysData__,map);if(!kind||!kinds[kind])kind="key+value";defineProperties(this,{__kind__:d("",kind),__values__:d("w",map.__mapValuesData__)})};if(setPrototypeOf)setPrototypeOf(MapIterator,Iterator);MapIterator.prototype=Object.create(Iterator.prototype,{constructor:d(MapIterator),_resolve:d(function(i){if(this.__kind__==="value")return this.__values__[i];if(this.__kind__==="key")return this.__list__[i];return[this.__list__[i],this.__values__[i]]}),_unBind:d(function(){this.__values__=null;unBind.call(this)}),toString:d(function(){return"[object Map Iterator]"})});Object.defineProperty(MapIterator.prototype,toStringTagSymbol,d("c","Map Iterator"))},{"./iterator-kinds":82,d:39,"es5-ext/object/set-prototype-of":63,"es6-iterator":75,"es6-symbol":85}],84:[function(require,module,exports){"use strict";var clear=require("es5-ext/array/#/clear"),eIndexOf=require("es5-ext/array/#/e-index-of"),setPrototypeOf=require("es5-ext/object/set-prototype-of"),callable=require("es5-ext/object/valid-callable"),validValue=require("es5-ext/object/valid-value"),d=require("d"),ee=require("event-emitter"),Symbol=require("es6-symbol"),iterator=require("es6-iterator/valid-iterable"),forOf=require("es6-iterator/for-of"),Iterator=require("./lib/iterator"),isNative=require("./is-native-implemented"),call=Function.prototype.call,defineProperties=Object.defineProperties,getPrototypeOf=Object.getPrototypeOf,MapPoly;module.exports=MapPoly=function(){var iterable=arguments[0],keys,values,self;if(!(this instanceof MapPoly))throw new TypeError("Constructor requires 'new'");if(isNative&&setPrototypeOf&&Map!==MapPoly){self=setPrototypeOf(new Map,getPrototypeOf(this))}else{self=this}if(iterable!=null)iterator(iterable);defineProperties(self,{__mapKeysData__:d("c",keys=[]),__mapValuesData__:d("c",values=[])});if(!iterable)return self;forOf(iterable,function(value){var key=validValue(value)[0];value=value[1];if(eIndexOf.call(keys,key)!==-1)return;keys.push(key);values.push(value)},self);return self};if(isNative){if(setPrototypeOf)setPrototypeOf(MapPoly,Map);MapPoly.prototype=Object.create(Map.prototype,{constructor:d(MapPoly)})}ee(defineProperties(MapPoly.prototype,{clear:d(function(){if(!this.__mapKeysData__.length)return;clear.call(this.__mapKeysData__);clear.call(this.__mapValuesData__);this.emit("_clear")}),"delete":d(function(key){var index=eIndexOf.call(this.__mapKeysData__,key);if(index===-1)return false;this.__mapKeysData__.splice(index,1);this.__mapValuesData__.splice(index,1);this.emit("_delete",index,key);return true}),entries:d(function(){return new Iterator(this,"key+value")}),forEach:d(function(cb){var thisArg=arguments[1],iterator,result;callable(cb);iterator=this.entries();result=iterator._next();while(result!==undefined){call.call(cb,thisArg,this.__mapValuesData__[result],this.__mapKeysData__[result],this);result=iterator._next()}}),get:d(function(key){var index=eIndexOf.call(this.__mapKeysData__,key);if(index===-1)return;return this.__mapValuesData__[index]}),has:d(function(key){return eIndexOf.call(this.__mapKeysData__,key)!==-1}),keys:d(function(){return new Iterator(this,"key")}),set:d(function(key,value){var index=eIndexOf.call(this.__mapKeysData__,key),emit;if(index===-1){index=this.__mapKeysData__.push(key)-1;emit=true}this.__mapValuesData__[index]=value;if(emit)this.emit("_add",index,key);return this}),size:d.gs(function(){return this.__mapKeysData__.length}),values:d(function(){return new Iterator(this,"value")}),toString:d(function(){return"[object Map]"})}));Object.defineProperty(MapPoly.prototype,Symbol.iterator,d(function(){return this.entries()}));Object.defineProperty(MapPoly.prototype,Symbol.toStringTag,d("c","Map"))},{"./is-native-implemented":81,"./lib/iterator":83,d:39,"es5-ext/array/#/clear":40,"es5-ext/array/#/e-index-of":41,"es5-ext/object/set-prototype-of":63,"es5-ext/object/valid-callable":66,"es5-ext/object/valid-value":67,"es6-iterator/for-of":73,"es6-iterator/valid-iterable":78,"es6-symbol":85,"event-emitter":90}],85:[function(require,module,exports){"use strict";module.exports=require("./is-implemented")()?Symbol:require("./polyfill")},{"./is-implemented":86,"./polyfill":88}],86:[function(require,module,exports){"use strict";var validTypes={object:true,symbol:true};module.exports=function(){var symbol;if(typeof Symbol!=="function")return false;symbol=Symbol("test symbol");try{String(symbol)}catch(e){return false}if(!validTypes[typeof Symbol.iterator])return false;if(!validTypes[typeof Symbol.toPrimitive])return false;if(!validTypes[typeof Symbol.toStringTag])return false;return true}},{}],87:[function(require,module,exports){"use strict";module.exports=function(x){if(!x)return false;if(typeof x==="symbol")return true;if(!x.constructor)return false;if(x.constructor.name!=="Symbol")return false;return x[x.constructor.toStringTag]==="Symbol"}},{}],88:[function(require,module,exports){"use strict";var d=require("d"),validateSymbol=require("./validate-symbol"),create=Object.create,defineProperties=Object.defineProperties,defineProperty=Object.defineProperty,objPrototype=Object.prototype,NativeSymbol,SymbolPolyfill,HiddenSymbol,globalSymbols=create(null),isNativeSafe;if(typeof Symbol==="function"){NativeSymbol=Symbol;try{String(NativeSymbol());isNativeSafe=true}catch(ignore){}}var generateName=function(){var created=create(null);return function(desc){var postfix=0,name,ie11BugWorkaround;while(created[desc+(postfix||"")])++postfix;desc+=postfix||"";created[desc]=true;name="@@"+desc;defineProperty(objPrototype,name,d.gs(null,function(value){if(ie11BugWorkaround)return;ie11BugWorkaround=true;defineProperty(this,name,d(value));ie11BugWorkaround=false}));return name}}();HiddenSymbol=function Symbol(description){if(this instanceof HiddenSymbol)throw new TypeError("TypeError: Symbol is not a constructor");return SymbolPolyfill(description)};module.exports=SymbolPolyfill=function Symbol(description){var symbol;if(this instanceof Symbol)throw new TypeError("TypeError: Symbol is not a constructor");if(isNativeSafe)return NativeSymbol(description);symbol=create(HiddenSymbol.prototype);description=description===undefined?"":String(description);return defineProperties(symbol,{__description__:d("",description),__name__:d("",generateName(description))})};defineProperties(SymbolPolyfill,{"for":d(function(key){if(globalSymbols[key])return globalSymbols[key];return globalSymbols[key]=SymbolPolyfill(String(key))}),keyFor:d(function(s){var key;validateSymbol(s);for(key in globalSymbols)if(globalSymbols[key]===s)return key}),hasInstance:d("",NativeSymbol&&NativeSymbol.hasInstance||SymbolPolyfill("hasInstance")),isConcatSpreadable:d("",NativeSymbol&&NativeSymbol.isConcatSpreadable||SymbolPolyfill("isConcatSpreadable")),iterator:d("",NativeSymbol&&NativeSymbol.iterator||SymbolPolyfill("iterator")),match:d("",NativeSymbol&&NativeSymbol.match||SymbolPolyfill("match")),replace:d("",NativeSymbol&&NativeSymbol.replace||SymbolPolyfill("replace")),search:d("",NativeSymbol&&NativeSymbol.search||SymbolPolyfill("search")),species:d("",NativeSymbol&&NativeSymbol.species||SymbolPolyfill("species")),split:d("",NativeSymbol&&NativeSymbol.split||SymbolPolyfill("split")),toPrimitive:d("",NativeSymbol&&NativeSymbol.toPrimitive||SymbolPolyfill("toPrimitive")),toStringTag:d("",NativeSymbol&&NativeSymbol.toStringTag||SymbolPolyfill("toStringTag")),unscopables:d("",NativeSymbol&&NativeSymbol.unscopables||SymbolPolyfill("unscopables"))});defineProperties(HiddenSymbol.prototype,{constructor:d(SymbolPolyfill),toString:d("",function(){return this.__name__})});defineProperties(SymbolPolyfill.prototype,{toString:d(function(){return"Symbol ("+validateSymbol(this).__description__+")"}),valueOf:d(function(){return validateSymbol(this)})});defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toPrimitive,d("",function(){var symbol=validateSymbol(this);if(typeof symbol==="symbol")return symbol;return symbol.toString()}));defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toStringTag,d("c","Symbol"));defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toStringTag,d("c",SymbolPolyfill.prototype[SymbolPolyfill.toStringTag]));defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toPrimitive,d("c",SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive]))},{"./validate-symbol":89,d:39}],89:[function(require,module,exports){"use strict";var isSymbol=require("./is-symbol");module.exports=function(value){if(!isSymbol(value))throw new TypeError(value+" is not a symbol");return value}},{"./is-symbol":87}],90:[function(require,module,exports){"use strict";var d=require("d"),callable=require("es5-ext/object/valid-callable"),apply=Function.prototype.apply,call=Function.prototype.call,create=Object.create,defineProperty=Object.defineProperty,defineProperties=Object.defineProperties,hasOwnProperty=Object.prototype.hasOwnProperty,descriptor={configurable:true,enumerable:false,writable:true},on,once,off,emit,methods,descriptors,base;on=function(type,listener){var data;callable(listener);if(!hasOwnProperty.call(this,"__ee__")){data=descriptor.value=create(null);defineProperty(this,"__ee__",descriptor);descriptor.value=null}else{data=this.__ee__}if(!data[type])data[type]=listener;else if(typeof data[type]==="object")data[type].push(listener);else data[type]=[data[type],listener];return this};once=function(type,listener){var once,self;callable(listener);self=this;on.call(this,type,once=function(){off.call(self,type,once);apply.call(listener,this,arguments)});once.__eeOnceListener__=listener;return this};off=function(type,listener){var data,listeners,candidate,i;callable(listener);if(!hasOwnProperty.call(this,"__ee__"))return this;data=this.__ee__;if(!data[type])return this;listeners=data[type];if(typeof listeners==="object"){for(i=0;candidate=listeners[i];++i){if(candidate===listener||candidate.__eeOnceListener__===listener){if(listeners.length===2)data[type]=listeners[i?0:1];else listeners.splice(i,1)}}}else{if(listeners===listener||listeners.__eeOnceListener__===listener){delete data[type]}}return this};emit=function(type){var i,l,listener,listeners,args;if(!hasOwnProperty.call(this,"__ee__"))return;listeners=this.__ee__[type];if(!listeners)return;if(typeof listeners==="object"){l=arguments.length;args=new Array(l-1);for(i=1;i<l;++i)args[i-1]=arguments[i];listeners=listeners.slice();for(i=0;listener=listeners[i];++i){apply.call(listener,this,args)}}else{switch(arguments.length){case 1:call.call(listeners,this);break;case 2:call.call(listeners,this,arguments[1]);break;case 3:call.call(listeners,this,arguments[1],arguments[2]);break;default:l=arguments.length;args=new Array(l-1);for(i=1;i<l;++i){args[i-1]=arguments[i]}apply.call(listeners,this,args)}}};methods={on:on,once:once,off:off,emit:emit};descriptors={on:d(on),once:d(once),off:d(off),emit:d(emit)};base=defineProperties({},descriptors);module.exports=exports=function(o){return o==null?create(base):defineProperties(Object(o),descriptors)};exports.methods=methods},{d:39,"es5-ext/object/valid-callable":66}],91:[function(require,module,exports){"use strict";exports.__esModule=true;var PUSH=exports.PUSH="PUSH";var REPLACE=exports.REPLACE="REPLACE";var POP=exports.POP="POP"},{}],92:[function(require,module,exports){"use strict";exports.__esModule=true;var loopAsync=exports.loopAsync=function loopAsync(turns,work,callback){var currentTurn=0,isDone=false;var isSync=false,hasNext=false,doneArgs=void 0;var done=function done(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}isDone=true;if(isSync){doneArgs=args;return}callback.apply(undefined,args)};var next=function next(){if(isDone)return;hasNext=true;if(isSync)return;isSync=true;while(!isDone&&currentTurn<turns&&hasNext){hasNext=false;work(currentTurn++,next,done)}isSync=false;if(isDone){callback.apply(undefined,doneArgs);return}if(currentTurn>=turns&&hasNext){isDone=true;callback()}};next()}},{}],93:[function(require,module,exports){"use strict";exports.__esModule=true;exports.go=exports.replaceLocation=exports.pushLocation=exports.startListener=exports.getUserConfirmation=exports.getCurrentLocation=undefined;var _LocationUtils=require("./LocationUtils");var _DOMUtils=require("./DOMUtils");var _DOMStateStorage=require("./DOMStateStorage");var _PathUtils=require("./PathUtils");var _ExecutionEnvironment=require("./ExecutionEnvironment");var PopStateEvent="popstate";var HashChangeEvent="hashchange";var needsHashchangeListener=_ExecutionEnvironment.canUseDOM&&!(0,_DOMUtils.supportsPopstateOnHashchange)();var _createLocation=function _createLocation(historyState){var key=historyState&&historyState.key;return(0,_LocationUtils.createLocation)({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash,state:key?(0,_DOMStateStorage.readState)(key):undefined},undefined,key)};var getCurrentLocation=exports.getCurrentLocation=function getCurrentLocation(){var historyState=void 0;try{historyState=window.history.state||{}}catch(error){historyState={}}return _createLocation(historyState)};var getUserConfirmation=exports.getUserConfirmation=function getUserConfirmation(message,callback){return callback(window.confirm(message))};var startListener=exports.startListener=function startListener(listener){var handlePopState=function handlePopState(event){if(event.state!==undefined)listener(_createLocation(event.state))};(0,_DOMUtils.addEventListener)(window,PopStateEvent,handlePopState);var handleUnpoppedHashChange=function handleUnpoppedHashChange(){return listener(getCurrentLocation())};if(needsHashchangeListener){(0,_DOMUtils.addEventListener)(window,HashChangeEvent,handleUnpoppedHashChange)}return function(){(0,_DOMUtils.removeEventListener)(window,PopStateEvent,handlePopState);if(needsHashchangeListener){(0,_DOMUtils.removeEventListener)(window,HashChangeEvent,handleUnpoppedHashChange)}}};var updateLocation=function updateLocation(location,updateState){var state=location.state;var key=location.key;if(state!==undefined)(0,_DOMStateStorage.saveState)(key,state);updateState({key:key},(0,_PathUtils.createPath)(location))};var pushLocation=exports.pushLocation=function pushLocation(location){return updateLocation(location,function(state,path){return window.history.pushState(state,null,path)})};var replaceLocation=exports.replaceLocation=function replaceLocation(location){return updateLocation(location,function(state,path){return window.history.replaceState(state,null,path)})};var go=exports.go=function go(n){if(n)window.history.go(n)}},{"./DOMStateStorage":94,"./DOMUtils":95,"./ExecutionEnvironment":96,"./LocationUtils":98,"./PathUtils":99}],94:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;exports.readState=exports.saveState=undefined;var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var QuotaExceededErrors={QuotaExceededError:true,QUOTA_EXCEEDED_ERR:true};var SecurityErrors={SecurityError:true};var KeyPrefix="@@History/";var createKey=function createKey(key){return KeyPrefix+key};var saveState=exports.saveState=function saveState(key,state){
if(!window.sessionStorage){process.env.NODE_ENV!=="production"?(0,_warning2.default)(false,"[history] Unable to save state; sessionStorage is not available"):void 0;return}try{if(state==null){window.sessionStorage.removeItem(createKey(key))}else{window.sessionStorage.setItem(createKey(key),JSON.stringify(state))}}catch(error){if(SecurityErrors[error.name]){process.env.NODE_ENV!=="production"?(0,_warning2.default)(false,"[history] Unable to save state; sessionStorage is not available due to security settings"):void 0;return}if(QuotaExceededErrors[error.name]&&window.sessionStorage.length===0){process.env.NODE_ENV!=="production"?(0,_warning2.default)(false,"[history] Unable to save state; sessionStorage is not available in Safari private mode"):void 0;return}throw error}};var readState=exports.readState=function readState(key){var json=void 0;try{json=window.sessionStorage.getItem(createKey(key))}catch(error){if(SecurityErrors[error.name]){process.env.NODE_ENV!=="production"?(0,_warning2.default)(false,"[history] Unable to read state; sessionStorage is not available due to security settings"):void 0;return undefined}}if(json){try{return JSON.parse(json)}catch(error){}}return undefined}}).call(this,require("_process"))},{_process:132,warning:159}],95:[function(require,module,exports){"use strict";exports.__esModule=true;var addEventListener=exports.addEventListener=function addEventListener(node,event,listener){return node.addEventListener?node.addEventListener(event,listener,false):node.attachEvent("on"+event,listener)};var removeEventListener=exports.removeEventListener=function removeEventListener(node,event,listener){return node.removeEventListener?node.removeEventListener(event,listener,false):node.detachEvent("on"+event,listener)};var supportsHistory=exports.supportsHistory=function supportsHistory(){var ua=window.navigator.userAgent;if((ua.indexOf("Android 2.")!==-1||ua.indexOf("Android 4.0")!==-1)&&ua.indexOf("Mobile Safari")!==-1&&ua.indexOf("Chrome")===-1&&ua.indexOf("Windows Phone")===-1)return false;return window.history&&"pushState"in window.history};var supportsGoWithoutReloadUsingHash=exports.supportsGoWithoutReloadUsingHash=function supportsGoWithoutReloadUsingHash(){return window.navigator.userAgent.indexOf("Firefox")===-1};var supportsPopstateOnHashchange=exports.supportsPopstateOnHashchange=function supportsPopstateOnHashchange(){return window.navigator.userAgent.indexOf("Trident")===-1}},{}],96:[function(require,module,exports){"use strict";exports.__esModule=true;var canUseDOM=exports.canUseDOM=!!(typeof window!=="undefined"&&window.document&&window.document.createElement)},{}],97:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;exports.replaceLocation=exports.pushLocation=exports.startListener=exports.getCurrentLocation=exports.go=exports.getUserConfirmation=undefined;var _BrowserProtocol=require("./BrowserProtocol");Object.defineProperty(exports,"getUserConfirmation",{enumerable:true,get:function get(){return _BrowserProtocol.getUserConfirmation}});Object.defineProperty(exports,"go",{enumerable:true,get:function get(){return _BrowserProtocol.go}});var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);var _LocationUtils=require("./LocationUtils");var _DOMUtils=require("./DOMUtils");var _DOMStateStorage=require("./DOMStateStorage");var _PathUtils=require("./PathUtils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var HashChangeEvent="hashchange";var getHashPath=function getHashPath(){var href=window.location.href;var hashIndex=href.indexOf("#");return hashIndex===-1?"":href.substring(hashIndex+1)};var pushHashPath=function pushHashPath(path){return window.location.hash=path};var replaceHashPath=function replaceHashPath(path){var hashIndex=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,hashIndex>=0?hashIndex:0)+"#"+path)};var getCurrentLocation=exports.getCurrentLocation=function getCurrentLocation(pathCoder,queryKey){var path=pathCoder.decodePath(getHashPath());var key=(0,_PathUtils.getQueryStringValueFromPath)(path,queryKey);var state=void 0;if(key){path=(0,_PathUtils.stripQueryStringValueFromPath)(path,queryKey);state=(0,_DOMStateStorage.readState)(key)}var init=(0,_PathUtils.parsePath)(path);init.state=state;return(0,_LocationUtils.createLocation)(init,undefined,key)};var prevLocation=void 0;var startListener=exports.startListener=function startListener(listener,pathCoder,queryKey){var handleHashChange=function handleHashChange(){var path=getHashPath();var encodedPath=pathCoder.encodePath(path);if(path!==encodedPath){replaceHashPath(encodedPath)}else{var currentLocation=getCurrentLocation(pathCoder,queryKey);if(prevLocation&&currentLocation.key&&prevLocation.key===currentLocation.key)return;prevLocation=currentLocation;listener(currentLocation)}};var path=getHashPath();var encodedPath=pathCoder.encodePath(path);if(path!==encodedPath)replaceHashPath(encodedPath);(0,_DOMUtils.addEventListener)(window,HashChangeEvent,handleHashChange);return function(){return(0,_DOMUtils.removeEventListener)(window,HashChangeEvent,handleHashChange)}};var updateLocation=function updateLocation(location,pathCoder,queryKey,updateHash){var state=location.state;var key=location.key;var path=pathCoder.encodePath((0,_PathUtils.createPath)(location));if(state!==undefined){path=(0,_PathUtils.addQueryStringValueToPath)(path,queryKey,key);(0,_DOMStateStorage.saveState)(key,state)}prevLocation=location;updateHash(path)};var pushLocation=exports.pushLocation=function pushLocation(location,pathCoder,queryKey){return updateLocation(location,pathCoder,queryKey,function(path){if(getHashPath()!==path){pushHashPath(path)}else{process.env.NODE_ENV!=="production"?(0,_warning2.default)(false,"You cannot PUSH the same path using hash history"):void 0}})};var replaceLocation=exports.replaceLocation=function replaceLocation(location,pathCoder,queryKey){return updateLocation(location,pathCoder,queryKey,function(path){if(getHashPath()!==path)replaceHashPath(path)})}}).call(this,require("_process"))},{"./BrowserProtocol":93,"./DOMStateStorage":94,"./DOMUtils":95,"./LocationUtils":98,"./PathUtils":99,_process:132,warning:159}],98:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;exports.locationsAreEqual=exports.statesAreEqual=exports.createLocation=exports.createQuery=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);var _PathUtils=require("./PathUtils");var _Actions=require("./Actions");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var createQuery=exports.createQuery=function createQuery(props){return _extends(Object.create(null),props)};var createLocation=exports.createLocation=function createLocation(){var input=arguments.length<=0||arguments[0]===undefined?"/":arguments[0];var action=arguments.length<=1||arguments[1]===undefined?_Actions.POP:arguments[1];var key=arguments.length<=2||arguments[2]===undefined?null:arguments[2];var object=typeof input==="string"?(0,_PathUtils.parsePath)(input):input;process.env.NODE_ENV!=="production"?(0,_warning2.default)(!object.path,"Location descriptor objects should have a `pathname`, not a `path`."):void 0;var pathname=object.pathname||"/";var search=object.search||"";var hash=object.hash||"";var state=object.state;return{pathname:pathname,search:search,hash:hash,state:state,action:action,key:key}};var isDate=function isDate(object){return Object.prototype.toString.call(object)==="[object Date]"};var statesAreEqual=exports.statesAreEqual=function statesAreEqual(a,b){if(a===b)return true;var typeofA=typeof a==="undefined"?"undefined":_typeof(a);var typeofB=typeof b==="undefined"?"undefined":_typeof(b);if(typeofA!==typeofB)return false;!(typeofA!=="function")?process.env.NODE_ENV!=="production"?(0,_invariant2.default)(false,"You must not store functions in location state"):(0,_invariant2.default)(false):void 0;if(typeofA==="object"){!!(isDate(a)&&isDate(b))?process.env.NODE_ENV!=="production"?(0,_invariant2.default)(false,"You must not store Date objects in location state"):(0,_invariant2.default)(false):void 0;if(!Array.isArray(a)){var keysofA=Object.keys(a);var keysofB=Object.keys(b);return keysofA.length===keysofB.length&&keysofA.every(function(key){return statesAreEqual(a[key],b[key])})}return Array.isArray(b)&&a.length===b.length&&a.every(function(item,index){return statesAreEqual(item,b[index])})}return false};var locationsAreEqual=exports.locationsAreEqual=function locationsAreEqual(a,b){return a.key===b.key&&a.pathname===b.pathname&&a.search===b.search&&a.hash===b.hash&&statesAreEqual(a.state,b.state)}}).call(this,require("_process"))},{"./Actions":91,"./PathUtils":99,_process:132,invariant:110,warning:159}],99:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;exports.createPath=exports.parsePath=exports.getQueryStringValueFromPath=exports.stripQueryStringValueFromPath=exports.addQueryStringValueToPath=undefined;var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var addQueryStringValueToPath=exports.addQueryStringValueToPath=function addQueryStringValueToPath(path,key,value){var _parsePath=parsePath(path);var pathname=_parsePath.pathname;var search=_parsePath.search;var hash=_parsePath.hash;return createPath({pathname:pathname,search:search+(search.indexOf("?")===-1?"?":"&")+key+"="+value,hash:hash})};var stripQueryStringValueFromPath=exports.stripQueryStringValueFromPath=function stripQueryStringValueFromPath(path,key){var _parsePath2=parsePath(path);var pathname=_parsePath2.pathname;var search=_parsePath2.search;var hash=_parsePath2.hash;return createPath({pathname:pathname,search:search.replace(new RegExp("([?&])"+key+"=[a-zA-Z0-9]+(&?)"),function(match,prefix,suffix){return prefix==="?"?prefix:suffix}),hash:hash})};var getQueryStringValueFromPath=exports.getQueryStringValueFromPath=function getQueryStringValueFromPath(path,key){var _parsePath3=parsePath(path);var search=_parsePath3.search;var match=search.match(new RegExp("[?&]"+key+"=([a-zA-Z0-9]+)"));return match&&match[1]};var extractPath=function extractPath(string){var match=string.match(/^(https?:)?\/\/[^\/]*/);return match==null?string:string.substring(match[0].length)};var parsePath=exports.parsePath=function parsePath(path){var pathname=extractPath(path);var search="";var hash="";process.env.NODE_ENV!=="production"?(0,_warning2.default)(path===pathname,'A path must be pathname + search + hash only, not a full URL like "%s"',path):void 0;var hashIndex=pathname.indexOf("#");if(hashIndex!==-1){hash=pathname.substring(hashIndex);pathname=pathname.substring(0,hashIndex)}var searchIndex=pathname.indexOf("?");if(searchIndex!==-1){search=pathname.substring(searchIndex);pathname=pathname.substring(0,searchIndex)}if(pathname==="")pathname="/";return{pathname:pathname,search:search,hash:hash}};var createPath=exports.createPath=function createPath(location){if(location==null||typeof location==="string")return location;var basename=location.basename;var pathname=location.pathname;var search=location.search;var hash=location.hash;var path=(basename||"")+pathname;if(search&&search!=="?")path+=search;if(hash)path+=hash;return path}}).call(this,require("_process"))},{_process:132,warning:159}],100:[function(require,module,exports){"use strict";exports.__esModule=true;exports.replaceLocation=exports.pushLocation=exports.getCurrentLocation=exports.go=exports.getUserConfirmation=undefined;var _BrowserProtocol=require("./BrowserProtocol");Object.defineProperty(exports,"getUserConfirmation",{enumerable:true,get:function get(){return _BrowserProtocol.getUserConfirmation}});Object.defineProperty(exports,"go",{enumerable:true,get:function get(){return _BrowserProtocol.go}});var _LocationUtils=require("./LocationUtils");var _PathUtils=require("./PathUtils");var getCurrentLocation=exports.getCurrentLocation=function getCurrentLocation(){return(0,_LocationUtils.createLocation)(window.location)};var pushLocation=exports.pushLocation=function pushLocation(location){window.location.href=(0,_PathUtils.createPath)(location);return false};var replaceLocation=exports.replaceLocation=function replaceLocation(location){window.location.replace((0,_PathUtils.createPath)(location));return false}},{"./BrowserProtocol":93,"./LocationUtils":98,"./PathUtils":99}],101:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _ExecutionEnvironment=require("./ExecutionEnvironment");var _BrowserProtocol=require("./BrowserProtocol");var BrowserProtocol=_interopRequireWildcard(_BrowserProtocol);var _RefreshProtocol=require("./RefreshProtocol");var RefreshProtocol=_interopRequireWildcard(_RefreshProtocol);var _DOMUtils=require("./DOMUtils");var _createHistory=require("./createHistory");var _createHistory2=_interopRequireDefault(_createHistory);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var createBrowserHistory=function createBrowserHistory(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];!_ExecutionEnvironment.canUseDOM?process.env.NODE_ENV!=="production"?(0,_invariant2.default)(false,"Browser history needs a DOM"):(0,_invariant2.default)(false):void 0;var useRefresh=options.forceRefresh||!(0,_DOMUtils.supportsHistory)();var Protocol=useRefresh?RefreshProtocol:BrowserProtocol;var getUserConfirmation=Protocol.getUserConfirmation;var getCurrentLocation=Protocol.getCurrentLocation;var pushLocation=Protocol.pushLocation;var replaceLocation=Protocol.replaceLocation;var go=Protocol.go;var history=(0,_createHistory2.default)(_extends({getUserConfirmation:getUserConfirmation},options,{getCurrentLocation:getCurrentLocation,pushLocation:pushLocation,replaceLocation:replaceLocation,go:go}));var listenerCount=0,stopListener=void 0;var startListener=function startListener(listener,before){if(++listenerCount===1)stopListener=BrowserProtocol.startListener(history.transitionTo);var unlisten=before?history.listenBefore(listener):history.listen(listener);return function(){unlisten();if(--listenerCount===0)stopListener()}};var listenBefore=function listenBefore(listener){return startListener(listener,true)};var listen=function listen(listener){return startListener(listener,false)};return _extends({},history,{listenBefore:listenBefore,listen:listen})};exports.default=createBrowserHistory}).call(this,require("_process"))},{"./BrowserProtocol":93,"./DOMUtils":95,"./ExecutionEnvironment":96,"./RefreshProtocol":100,"./createHistory":103,_process:132,invariant:110}],102:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _ExecutionEnvironment=require("./ExecutionEnvironment");var _DOMUtils=require("./DOMUtils");var _HashProtocol=require("./HashProtocol");var HashProtocol=_interopRequireWildcard(_HashProtocol);var _createHistory=require("./createHistory");var _createHistory2=_interopRequireDefault(_createHistory);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var DefaultQueryKey="_k";var addLeadingSlash=function addLeadingSlash(path){return path.charAt(0)==="/"?path:"/"+path};var HashPathCoders={hashbang:{encodePath:function encodePath(path){return path.charAt(0)==="!"?path:"!"+path},decodePath:function decodePath(path){return path.charAt(0)==="!"?path.substring(1):path}},noslash:{encodePath:function encodePath(path){return path.charAt(0)==="/"?path.substring(1):path},decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};var createHashHistory=function createHashHistory(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];!_ExecutionEnvironment.canUseDOM?process.env.NODE_ENV!=="production"?(0,_invariant2.default)(false,"Hash history needs a DOM"):(0,_invariant2.default)(false):void 0;var queryKey=options.queryKey;var hashType=options.hashType;process.env.NODE_ENV!=="production"?(0,_warning2.default)(queryKey!==false,"Using { queryKey: false } no longer works. Instead, just don't "+"use location state if you don't want a key in your URL query string"):void 0;if(typeof queryKey!=="string")queryKey=DefaultQueryKey;if(hashType==null)hashType="slash";if(!(hashType in HashPathCoders)){process.env.NODE_ENV!=="production"?(0,_warning2.default)(false,"Invalid hash type: %s",hashType):void 0;hashType="slash"}var pathCoder=HashPathCoders[hashType];var getUserConfirmation=HashProtocol.getUserConfirmation;var getCurrentLocation=function getCurrentLocation(){return HashProtocol.getCurrentLocation(pathCoder,queryKey)};var pushLocation=function pushLocation(location){return HashProtocol.pushLocation(location,pathCoder,queryKey)};var replaceLocation=function replaceLocation(location){return HashProtocol.replaceLocation(location,pathCoder,queryKey)};var history=(0,_createHistory2.default)(_extends({getUserConfirmation:getUserConfirmation},options,{getCurrentLocation:getCurrentLocation,pushLocation:pushLocation,replaceLocation:replaceLocation,go:HashProtocol.go}));var listenerCount=0,stopListener=void 0;var startListener=function startListener(listener,before){if(++listenerCount===1)stopListener=HashProtocol.startListener(history.transitionTo,pathCoder,queryKey);var unlisten=before?history.listenBefore(listener):history.listen(listener);return function(){unlisten();if(--listenerCount===0)stopListener()}};var listenBefore=function listenBefore(listener){return startListener(listener,true)};var listen=function listen(listener){return startListener(listener,false)};var goIsSupportedWithoutReload=(0,_DOMUtils.supportsGoWithoutReloadUsingHash)();var go=function go(n){process.env.NODE_ENV!=="production"?(0,_warning2.default)(goIsSupportedWithoutReload,"Hash history go(n) causes a full page reload in this browser"):void 0;history.go(n)};var createHref=function createHref(path){return"#"+pathCoder.encodePath(history.createHref(path))};return _extends({},history,{listenBefore:listenBefore,listen:listen,go:go,createHref:createHref})};exports.default=createHashHistory}).call(this,require("_process"))},{"./DOMUtils":95,"./ExecutionEnvironment":96,"./HashProtocol":97,"./createHistory":103,_process:132,invariant:110,warning:159}],103:[function(require,module,exports){"use strict";exports.__esModule=true;var _AsyncUtils=require("./AsyncUtils");var _PathUtils=require("./PathUtils");var _runTransitionHook=require("./runTransitionHook");var _runTransitionHook2=_interopRequireDefault(_runTransitionHook);var _Actions=require("./Actions");var _LocationUtils=require("./LocationUtils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var createHistory=function createHistory(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var getCurrentLocation=options.getCurrentLocation;var getUserConfirmation=options.getUserConfirmation;var pushLocation=options.pushLocation;var replaceLocation=options.replaceLocation;var go=options.go;var keyLength=options.keyLength;var currentLocation=void 0;var pendingLocation=void 0;var beforeListeners=[];var listeners=[];var allKeys=[];var getCurrentIndex=function getCurrentIndex(){if(pendingLocation&&pendingLocation.action===_Actions.POP)return allKeys.indexOf(pendingLocation.key);if(currentLocation)return allKeys.indexOf(currentLocation.key);return-1};var updateLocation=function updateLocation(nextLocation){var currentIndex=getCurrentIndex();currentLocation=nextLocation;if(currentLocation.action===_Actions.PUSH){allKeys=[].concat(allKeys.slice(0,currentIndex+1),[currentLocation.key])}else if(currentLocation.action===_Actions.REPLACE){allKeys[currentIndex]=currentLocation.key}listeners.forEach(function(listener){return listener(currentLocation)})};var listenBefore=function listenBefore(listener){beforeListeners.push(listener);return function(){return beforeListeners=beforeListeners.filter(function(item){return item!==listener})}};var listen=function listen(listener){listeners.push(listener);return function(){return listeners=listeners.filter(function(item){return item!==listener})}};var confirmTransitionTo=function confirmTransitionTo(location,callback){(0,_AsyncUtils.loopAsync)(beforeListeners.length,function(index,next,done){(0,_runTransitionHook2.default)(beforeListeners[index],location,function(result){return result!=null?done(result):next()})},function(message){if(getUserConfirmation&&typeof message==="string"){getUserConfirmation(message,function(ok){return callback(ok!==false)})}else{callback(message!==false)}})};var transitionTo=function transitionTo(nextLocation){if(currentLocation&&(0,_LocationUtils.locationsAreEqual)(currentLocation,nextLocation)||pendingLocation&&(0,_LocationUtils.locationsAreEqual)(pendingLocation,nextLocation))return;pendingLocation=nextLocation;confirmTransitionTo(nextLocation,function(ok){if(pendingLocation!==nextLocation)return;pendingLocation=null;if(ok){if(nextLocation.action===_Actions.PUSH){var prevPath=(0,_PathUtils.createPath)(currentLocation);var nextPath=(0,_PathUtils.createPath)(nextLocation);if(nextPath===prevPath&&(0,_LocationUtils.statesAreEqual)(currentLocation.state,nextLocation.state))nextLocation.action=_Actions.REPLACE}if(nextLocation.action===_Actions.POP){updateLocation(nextLocation)}else if(nextLocation.action===_Actions.PUSH){if(pushLocation(nextLocation)!==false)updateLocation(nextLocation)}else if(nextLocation.action===_Actions.REPLACE){if(replaceLocation(nextLocation)!==false)updateLocation(nextLocation)}}else if(currentLocation&&nextLocation.action===_Actions.POP){var prevIndex=allKeys.indexOf(currentLocation.key);var nextIndex=allKeys.indexOf(nextLocation.key);if(prevIndex!==-1&&nextIndex!==-1)go(prevIndex-nextIndex)}})};var push=function push(input){return transitionTo(createLocation(input,_Actions.PUSH))};var replace=function replace(input){return transitionTo(createLocation(input,_Actions.REPLACE))};var goBack=function goBack(){return go(-1)};var goForward=function goForward(){return go(1)};var createKey=function createKey(){return Math.random().toString(36).substr(2,keyLength||6)};var createHref=function createHref(location){return(0,_PathUtils.createPath)(location)};var createLocation=function createLocation(location,action){var key=arguments.length<=2||arguments[2]===undefined?createKey():arguments[2];return(0,_LocationUtils.createLocation)(location,action,key)};return{getCurrentLocation:getCurrentLocation,listenBefore:listenBefore,listen:listen,transitionTo:transitionTo,push:push,replace:replace,go:go,goBack:goBack,goForward:goForward,createKey:createKey,createPath:_PathUtils.createPath,createHref:createHref,createLocation:createLocation}};exports.default=createHistory},{"./Actions":91,"./AsyncUtils":92,"./LocationUtils":98,"./PathUtils":99,"./runTransitionHook":106}],104:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _LocationUtils=require("./LocationUtils");var _PathUtils=require("./PathUtils");var _createHistory=require("./createHistory");var _createHistory2=_interopRequireDefault(_createHistory);var _Actions=require("./Actions");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var createStateStorage=function createStateStorage(entries){return entries.filter(function(entry){return entry.state}).reduce(function(memo,entry){memo[entry.key]=entry.state;return memo},{})};var createMemoryHistory=function createMemoryHistory(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];if(Array.isArray(options)){options={entries:options}}else if(typeof options==="string"){options={entries:[options]}}var getCurrentLocation=function getCurrentLocation(){var entry=entries[current];var path=(0,_PathUtils.createPath)(entry);var key=void 0,state=void 0;if(entry.key){key=entry.key;state=readState(key)}var init=(0,_PathUtils.parsePath)(path);return(0,_LocationUtils.createLocation)(_extends({},init,{state:state}),undefined,key)};var canGo=function canGo(n){var index=current+n;return index>=0&&index<entries.length};var go=function go(n){if(!n)return;if(!canGo(n)){process.env.NODE_ENV!=="production"?(0,_warning2.default)(false,"Cannot go(%s) there is not enough history",n):void 0;return}current+=n;var currentLocation=getCurrentLocation();history.transitionTo(_extends({},currentLocation,{action:_Actions.POP}))};var pushLocation=function pushLocation(location){current+=1;if(current<entries.length)entries.splice(current);entries.push(location);saveState(location.key,location.state)};var replaceLocation=function replaceLocation(location){entries[current]=location;saveState(location.key,location.state)};var history=(0,_createHistory2.default)(_extends({},options,{getCurrentLocation:getCurrentLocation,pushLocation:pushLocation,replaceLocation:replaceLocation,go:go}));var _options=options;var entries=_options.entries;var current=_options.current;if(typeof entries==="string"){entries=[entries]}else if(!Array.isArray(entries)){entries=["/"]}entries=entries.map(function(entry){return(0,_LocationUtils.createLocation)(entry)});if(current==null){current=entries.length-1}else{!(current>=0&&current<entries.length)?process.env.NODE_ENV!=="production"?(0,_invariant2.default)(false,"Current index must be >= 0 and < %s, was %s",entries.length,current):(0,_invariant2.default)(false):void 0}var storage=createStateStorage(entries);var saveState=function saveState(key,state){return storage[key]=state};var readState=function readState(key){return storage[key]};return _extends({},history,{canGo:canGo})};exports.default=createMemoryHistory}).call(this,require("_process"))},{"./Actions":91,"./LocationUtils":98,"./PathUtils":99,"./createHistory":103,_process:132,invariant:110,warning:159}],105:[function(require,module,exports){"use strict";exports.__esModule=true;exports.locationsAreEqual=exports.Actions=exports.useQueries=exports.useBeforeUnload=exports.useBasename=exports.createMemoryHistory=exports.createHashHistory=exports.createHistory=undefined;var _LocationUtils=require("./LocationUtils");Object.defineProperty(exports,"locationsAreEqual",{enumerable:true,get:function get(){return _LocationUtils.locationsAreEqual}});var _createBrowserHistory=require("./createBrowserHistory");var _createBrowserHistory2=_interopRequireDefault(_createBrowserHistory);var _createHashHistory2=require("./createHashHistory");var _createHashHistory3=_interopRequireDefault(_createHashHistory2);var _createMemoryHistory2=require("./createMemoryHistory");var _createMemoryHistory3=_interopRequireDefault(_createMemoryHistory2);var _useBasename2=require("./useBasename");var _useBasename3=_interopRequireDefault(_useBasename2);var _useBeforeUnload2=require("./useBeforeUnload");var _useBeforeUnload3=_interopRequireDefault(_useBeforeUnload2);var _useQueries2=require("./useQueries");var _useQueries3=_interopRequireDefault(_useQueries2);var _Actions2=require("./Actions");var _Actions=_interopRequireWildcard(_Actions2);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.createHistory=_createBrowserHistory2.default;exports.createHashHistory=_createHashHistory3.default;exports.createMemoryHistory=_createMemoryHistory3.default;exports.useBasename=_useBasename3.default;exports.useBeforeUnload=_useBeforeUnload3.default;exports.useQueries=_useQueries3.default;exports.Actions=_Actions},{"./Actions":91,"./LocationUtils":98,"./createBrowserHistory":101,"./createHashHistory":102,"./createMemoryHistory":104,"./useBasename":107,"./useBeforeUnload":108,"./useQueries":109}],106:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var runTransitionHook=function runTransitionHook(hook,location,callback){var result=hook(location,callback);if(hook.length<2){callback(result)}else{process.env.NODE_ENV!=="production"?(0,_warning2.default)(result===undefined,'You should not "return" in a transition hook with a callback argument; '+"call the callback instead"):void 0}};exports.default=runTransitionHook}).call(this,require("_process"))},{_process:132,warning:159}],107:[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _runTransitionHook=require("./runTransitionHook");var _runTransitionHook2=_interopRequireDefault(_runTransitionHook);var _PathUtils=require("./PathUtils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var useBasename=function useBasename(createHistory){return function(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var history=createHistory(options);var basename=options.basename;var addBasename=function addBasename(location){if(!location)return location;if(basename&&location.basename==null){if(location.pathname.indexOf(basename)===0){location.pathname=location.pathname.substring(basename.length);location.basename=basename;if(location.pathname==="")location.pathname="/"}else{location.basename=""}}return location};var prependBasename=function prependBasename(location){if(!basename)return location;var object=typeof location==="string"?(0,_PathUtils.parsePath)(location):location;var pname=object.pathname;var normalizedBasename=basename.slice(-1)==="/"?basename:basename+"/";
var normalizedPathname=pname.charAt(0)==="/"?pname.slice(1):pname;var pathname=normalizedBasename+normalizedPathname;return _extends({},object,{pathname:pathname})};var getCurrentLocation=function getCurrentLocation(){return addBasename(history.getCurrentLocation())};var listenBefore=function listenBefore(hook){return history.listenBefore(function(location,callback){return(0,_runTransitionHook2.default)(hook,addBasename(location),callback)})};var listen=function listen(listener){return history.listen(function(location){return listener(addBasename(location))})};var push=function push(location){return history.push(prependBasename(location))};var replace=function replace(location){return history.replace(prependBasename(location))};var createPath=function createPath(location){return history.createPath(prependBasename(location))};var createHref=function createHref(location){return history.createHref(prependBasename(location))};var createLocation=function createLocation(location){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}return addBasename(history.createLocation.apply(history,[prependBasename(location)].concat(args)))};return _extends({},history,{getCurrentLocation:getCurrentLocation,listenBefore:listenBefore,listen:listen,push:push,replace:replace,createPath:createPath,createHref:createHref,createLocation:createLocation})}};exports.default=useBasename},{"./PathUtils":99,"./runTransitionHook":106}],108:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _DOMUtils=require("./DOMUtils");var _ExecutionEnvironment=require("./ExecutionEnvironment");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var startListener=function startListener(getPromptMessage){var handleBeforeUnload=function handleBeforeUnload(event){var message=getPromptMessage();if(typeof message==="string"){(event||window.event).returnValue=message;return message}return undefined};(0,_DOMUtils.addEventListener)(window,"beforeunload",handleBeforeUnload);return function(){return(0,_DOMUtils.removeEventListener)(window,"beforeunload",handleBeforeUnload)}};var useBeforeUnload=function useBeforeUnload(createHistory){!_ExecutionEnvironment.canUseDOM?process.env.NODE_ENV!=="production"?(0,_invariant2.default)(false,"useBeforeUnload only works in DOM environments"):(0,_invariant2.default)(false):void 0;return function(options){var history=createHistory(options);var listeners=[];var stopListener=void 0;var getPromptMessage=function getPromptMessage(){var message=void 0;for(var i=0,len=listeners.length;message==null&&i<len;++i){message=listeners[i].call()}return message};var listenBeforeUnload=function listenBeforeUnload(listener){if(listeners.push(listener)===1)stopListener=startListener(getPromptMessage);return function(){listeners=listeners.filter(function(item){return item!==listener});if(listeners.length===0&&stopListener){stopListener();stopListener=null}}};return _extends({},history,{listenBeforeUnload:listenBeforeUnload})}};exports.default=useBeforeUnload}).call(this,require("_process"))},{"./DOMUtils":95,"./ExecutionEnvironment":96,_process:132,invariant:110}],109:[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _queryString=require("query-string");var _runTransitionHook=require("./runTransitionHook");var _runTransitionHook2=_interopRequireDefault(_runTransitionHook);var _LocationUtils=require("./LocationUtils");var _PathUtils=require("./PathUtils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var defaultStringifyQuery=function defaultStringifyQuery(query){return(0,_queryString.stringify)(query).replace(/%20/g,"+")};var defaultParseQueryString=_queryString.parse;var useQueries=function useQueries(createHistory){return function(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var history=createHistory(options);var stringifyQuery=options.stringifyQuery;var parseQueryString=options.parseQueryString;if(typeof stringifyQuery!=="function")stringifyQuery=defaultStringifyQuery;if(typeof parseQueryString!=="function")parseQueryString=defaultParseQueryString;var decodeQuery=function decodeQuery(location){if(!location)return location;if(location.query==null)location.query=parseQueryString(location.search.substring(1));return location};var encodeQuery=function encodeQuery(location,query){if(query==null)return location;var object=typeof location==="string"?(0,_PathUtils.parsePath)(location):location;var queryString=stringifyQuery(query);var search=queryString?"?"+queryString:"";return _extends({},object,{search:search})};var getCurrentLocation=function getCurrentLocation(){return decodeQuery(history.getCurrentLocation())};var listenBefore=function listenBefore(hook){return history.listenBefore(function(location,callback){return(0,_runTransitionHook2.default)(hook,decodeQuery(location),callback)})};var listen=function listen(listener){return history.listen(function(location){return listener(decodeQuery(location))})};var push=function push(location){return history.push(encodeQuery(location,location.query))};var replace=function replace(location){return history.replace(encodeQuery(location,location.query))};var createPath=function createPath(location){return history.createPath(encodeQuery(location,location.query))};var createHref=function createHref(location){return history.createHref(encodeQuery(location,location.query))};var createLocation=function createLocation(location){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}var newLocation=history.createLocation.apply(history,[encodeQuery(location,location.query)].concat(args));if(location.query)newLocation.query=(0,_LocationUtils.createQuery)(location.query);return decodeQuery(newLocation)};return _extends({},history,{getCurrentLocation:getCurrentLocation,listenBefore:listenBefore,listen:listen,push:push,replace:replace,createPath:createPath,createHref:createHref,createLocation:createLocation})}};exports.default=useQueries},{"./LocationUtils":98,"./PathUtils":99,"./runTransitionHook":106,"query-string":133}],110:[function(require,module,exports){(function(process){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if(process.env.NODE_ENV!=="production"){if(format===undefined){throw new Error("invariant requires an error message argument")}}if(!condition){var error;if(format===undefined){error=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++]}));error.name="Invariant Violation"}error.framesToPop=1;throw error}};module.exports=invariant}).call(this,require("_process"))},{_process:132}],111:[function(require,module,exports){var isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray");function isObjectLike(value){return!!value&&typeof value=="object"}var MAX_SAFE_INTEGER=9007199254740991;function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function baseFlatten(array,isDeep,isStrict,result){result||(result=[]);var index=-1,length=array.length;while(++index<length){var value=array[index];if(isObjectLike(value)&&isArrayLike(value)&&(isStrict||isArray(value)||isArguments(value))){if(isDeep){baseFlatten(value,isDeep,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}module.exports=baseFlatten},{"lodash.isarguments":123,"lodash.isarray":124}],112:[function(require,module,exports){var baseFor=createBaseFor();function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}module.exports=baseFor},{}],113:[function(require,module,exports){function baseIndexOf(array,value,fromIndex){if(value!==value){return indexOfNaN(array,fromIndex)}var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function indexOfNaN(array,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?0:-1);while(fromRight?index--:++index<length){var other=array[index];if(other!==other){return index}}return-1}module.exports=baseIndexOf},{}],114:[function(require,module,exports){var baseIndexOf=require("lodash._baseindexof"),cacheIndexOf=require("lodash._cacheindexof"),createCache=require("lodash._createcache");var LARGE_ARRAY_SIZE=200;function baseUniq(array,iteratee){var index=-1,indexOf=baseIndexOf,length=array.length,isCommon=true,isLarge=isCommon&&length>=LARGE_ARRAY_SIZE,seen=isLarge?createCache():null,result=[];if(seen){indexOf=cacheIndexOf;isCommon=false}else{isLarge=false;seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(isCommon&&value===value){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(indexOf(seen,computed,0)<0){if(iteratee||isLarge){seen.push(computed)}result.push(value)}}return result}module.exports=baseUniq},{"lodash._baseindexof":113,"lodash._cacheindexof":116,"lodash._createcache":117}],115:[function(require,module,exports){function bindCallback(func,thisArg,argCount){if(typeof func!="function"){return identity}if(thisArg===undefined){return func}switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function identity(value){return value}module.exports=bindCallback},{}],116:[function(require,module,exports){function cacheIndexOf(cache,value){var data=cache.data,result=typeof value=="string"||isObject(value)?data.set.has(value):data.hash[value];return result?0:-1}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}module.exports=cacheIndexOf},{}],117:[function(require,module,exports){(function(global){var getNative=require("lodash._getnative");var Set=getNative(global,"Set");var nativeCreate=getNative(Object,"create");function SetCache(values){var length=values?values.length:0;this.data={hash:nativeCreate(null),set:new Set};while(length--){this.push(values[length])}}function cachePush(value){var data=this.data;if(typeof value=="string"||isObject(value)){data.set.add(value)}else{data.hash[value]=true}}function createCache(values){return nativeCreate&&Set?new SetCache(values):null}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}SetCache.prototype.push=cachePush;module.exports=createCache}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"lodash._getnative":118}],118:[function(require,module,exports){var funcTag="[object Function]";var reIsHostCtor=/^\[object .+?Constructor\]$/;function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;var reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isNative(value){if(value==null){return false}if(isFunction(value)){return reIsNative.test(fnToString.call(value))}return isObjectLike(value)&&reIsHostCtor.test(value)}module.exports=getNative},{}],119:[function(require,module,exports){(function(global){var objectTypes={"function":true,object:true};var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:undefined;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:undefined;var freeGlobal=checkGlobal(freeExports&&freeModule&&typeof global=="object"&&global);var freeSelf=checkGlobal(objectTypes[typeof self]&&self);var freeWindow=checkGlobal(objectTypes[typeof window]&&window);var thisGlobal=checkGlobal(objectTypes[typeof this]&&this);var root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")();function checkGlobal(value){return value&&value.Object===Object?value:null}module.exports=root}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],120:[function(require,module,exports){var root=require("lodash._root");var INFINITY=1/0;var symbolTag="[object Symbol]";var reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g;var rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0";var rsCombo="["+rsComboMarksRange+rsComboSymbolsRange+"]";var reComboMark=RegExp(rsCombo,"g");var deburredLetters={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"};function deburrLetter(letter){return deburredLetters[letter]}var objectProto=Object.prototype;var objectToString=objectProto.toString;var Symbol=root.Symbol;var symbolProto=Symbol?Symbol.prototype:undefined,symbolToString=Symbol?symbolProto.toString:undefined;function isObjectLike(value){return!!value&&typeof value=="object"}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toString(value){if(typeof value=="string"){return value}if(value==null){return""}if(isSymbol(value)){return Symbol?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function deburr(string){string=toString(string);return string&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}module.exports=deburr},{"lodash._root":119}],121:[function(require,module,exports){var root=require("lodash._root");var INFINITY=1/0;var symbolTag="[object Symbol]";var reUnescapedHtml=/[&<>"'`]/g,reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};function escapeHtmlChar(chr){return htmlEscapes[chr]}var objectProto=Object.prototype;var objectToString=objectProto.toString;var Symbol=root.Symbol;var symbolProto=Symbol?Symbol.prototype:undefined,symbolToString=Symbol?symbolProto.toString:undefined;function isObjectLike(value){return!!value&&typeof value=="object"}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toString(value){if(typeof value=="string"){return value}if(value==null){return""}if(isSymbol(value)){return Symbol?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function escape(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}module.exports=escape},{"lodash._root":119}],122:[function(require,module,exports){var baseFor=require("lodash._basefor"),bindCallback=require("lodash._bindcallback"),keys=require("lodash.keys");function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function createForOwn(objectFunc){return function(object,iteratee,thisArg){if(typeof iteratee!="function"||thisArg!==undefined){iteratee=bindCallback(iteratee,thisArg,3)}return objectFunc(object,iteratee)}}var forOwn=createForOwn(baseForOwn);module.exports=forOwn},{"lodash._basefor":112,"lodash._bindcallback":115,"lodash.keys":126}],123:[function(require,module,exports){var MAX_SAFE_INTEGER=9007199254740991;var argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var objectToString=objectProto.toString;var propertyIsEnumerable=objectProto.propertyIsEnumerable;function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}module.exports=isArguments},{}],124:[function(require,module,exports){var arrayTag="[object Array]",funcTag="[object Function]";var reIsHostCtor=/^\[object .+?Constructor\]$/;function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;var reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var nativeIsArray=getNative(Array,"isArray");var MAX_SAFE_INTEGER=9007199254740991;function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isNative(value){if(value==null){return false}if(isFunction(value)){return reIsNative.test(fnToString.call(value))}return isObjectLike(value)&&reIsHostCtor.test(value)}module.exports=isArray},{}],125:[function(require,module,exports){var deburr=require("lodash.deburr"),words=require("lodash.words");function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array.length;if(initAccum&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string)),callback,"")}}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});module.exports=kebabCase},{"lodash.deburr":120,"lodash.words":129}],126:[function(require,module,exports){var getNative=require("lodash._getnative"),isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray");var reIsUint=/^\d+$/;var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeKeys=getNative(Object,"keys");var MAX_SAFE_INTEGER=9007199254740991;function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function shimKeys(object){var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length;var allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object));var index=-1,result=[];while(++index<propsLength){var key=props[index];if(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key)){result.push(key)}}return result}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}var keys=!nativeKeys?shimKeys:function(object){var Ctor=object==null?undefined:object.constructor;if(typeof Ctor=="function"&&Ctor.prototype===object||typeof object!="function"&&isArrayLike(object)){return shimKeys(object)}return isObject(object)?nativeKeys(object):[]};function keysIn(object){if(object==null){return[]}if(!isObject(object)){object=Object(object)}var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;var Ctor=object.constructor,index=-1,isProto=typeof Ctor=="function"&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;while(++index<length){result[index]=index+""}for(var key in object){if(!(skipIndexes&&isIndex(key,length))&&!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}module.exports=keys},{"lodash._getnative":118,"lodash.isarguments":123,"lodash.isarray":124}],127:[function(require,module,exports){var FUNC_ERROR_TEXT="Expected a function";var nativeMax=Math.max;function restParam(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=nativeMax(start===undefined?func.length-1:+start||0,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);while(++index<length){rest[index]=args[start+index]}switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);index=-1;while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=rest;return func.apply(this,otherArgs)}}module.exports=restParam},{}],128:[function(require,module,exports){var baseFlatten=require("lodash._baseflatten"),baseUniq=require("lodash._baseuniq"),restParam=require("lodash.restparam");var union=restParam(function(arrays){return baseUniq(baseFlatten(arrays,false,true))});module.exports=union},{"lodash._baseflatten":111,"lodash._baseuniq":114,"lodash.restparam":127}],129:[function(require,module,exports){var root=require("lodash._root");var INFINITY=1/0;var symbolTag="[object Symbol]";var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0",rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsQuoteRange="\\u2018\\u2019\\u201c\\u201d",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsQuoteRange+rsSpaceRange;var rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboMarksRange+rsComboSymbolsRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d";var rsLowerMisc="(?:"+rsLower+"|"+rsMisc+")",rsUpperMisc="(?:"+rsUpper+"|"+rsMisc+")",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq;var reBasicWord=/[a-zA-Z0-9]+/g;var reComplexWord=RegExp([rsUpper+"?"+rsLower+"+(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsUpperMisc+"+(?="+[rsBreak,rsUpper+rsLowerMisc,"$"].join("|")+")",rsUpper+"?"+rsLowerMisc+"+",rsUpper+"+",rsDigits,rsEmoji].join("|"),"g");var reHasComplexWord=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var objectProto=Object.prototype;var objectToString=objectProto.toString;var Symbol=root.Symbol;var symbolProto=Symbol?Symbol.prototype:undefined,symbolToString=Symbol?symbolProto.toString:undefined;function isObjectLike(value){return!!value&&typeof value=="object"}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toString(value){if(typeof value=="string"){return value}if(value==null){return""}if(isSymbol(value)){return Symbol?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined){pattern=reHasComplexWord.test(string)?reComplexWord:reBasicWord}return string.match(pattern)||[]}module.exports=words},{"lodash._root":119}],130:[function(require,module,exports){"use strict";var proto=Element.prototype;var vendor=proto.matches||proto.matchesSelector||proto.webkitMatchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector;module.exports=match;function match(el,selector){if(vendor)return vendor.call(el,selector);var nodes=el.parentNode.querySelectorAll(selector);for(var i=0;i<nodes.length;i++){if(nodes[i]==el)return true}return false}},{}],131:[function(require,module,exports){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(Object.getOwnPropertySymbols){symbols=Object.getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},{}],132:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],133:[function(require,module,exports){"use strict";var strictUriEncode=require("strict-uri-encode");var objectAssign=require("object-assign");function encode(value,opts){if(opts.encode){return opts.strict?strictUriEncode(value):encodeURIComponent(value)}return value}exports.extract=function(str){return str.split("?")[1]||""};exports.parse=function(str){var ret=Object.create(null);if(typeof str!=="string"){return ret}str=str.trim().replace(/^(\?|#|&)/,"");if(!str){return ret}str.split("&").forEach(function(param){var parts=param.replace(/\+/g," ").split("=");var key=parts.shift();
var val=parts.length>0?parts.join("="):undefined;key=decodeURIComponent(key);val=val===undefined?null:decodeURIComponent(val);if(ret[key]===undefined){ret[key]=val}else if(Array.isArray(ret[key])){ret[key].push(val)}else{ret[key]=[ret[key],val]}});return ret};exports.stringify=function(obj,opts){var defaults={encode:true,strict:true};opts=objectAssign(defaults,opts);return obj?Object.keys(obj).sort().map(function(key){var val=obj[key];if(val===undefined){return""}if(val===null){return encode(key,opts)}if(Array.isArray(val)){var result=[];val.slice().forEach(function(val2){if(val2===undefined){return}if(val2===null){result.push(encode(key,opts))}else{result.push(encode(key,opts)+"="+encode(val2,opts))}});return result.join("&")}return encode(key,opts)+"="+encode(val,opts)}).filter(function(x){return x.length>0}).join("&"):""}},{"object-assign":131,"strict-uri-encode":155}],134:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=classNameFromVNode;var _selectorParser2=require("./selectorParser");var _selectorParser3=_interopRequireDefault(_selectorParser2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function classNameFromVNode(vNode){var _selectorParser=(0,_selectorParser3.default)(vNode.sel);var cn=_selectorParser.className;if(!vNode.data){return cn}var _vNode$data=vNode.data;var dataClass=_vNode$data.class;var props=_vNode$data.props;if(dataClass){var c=Object.keys(vNode.data.class).filter(function(cl){return vNode.data.class[cl]});cn+=" "+c.join(" ")}if(props&&props.className){cn+=" "+props.className}return cn.trim()}},{"./selectorParser":135}],135:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=selectorParser;var _browserSplit=require("browser-split");var _browserSplit2=_interopRequireDefault(_browserSplit);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var classIdSplit=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/;var notClassId=/^\.|#/;function selectorParser(){var selector=arguments.length<=0||arguments[0]===undefined?"":arguments[0];var tagName=void 0;var id="";var classes=[];var tagParts=(0,_browserSplit2.default)(selector,classIdSplit);if(notClassId.test(tagParts[1])||selector===""){tagName="div"}var part=void 0;var type=void 0;var i=void 0;for(i=0;i<tagParts.length;i++){part=tagParts[i];if(!part){continue}type=part.charAt(0);if(!tagName){tagName=part}else if(type==="."){classes.push(part.substring(1,part.length))}else if(type==="#"){id=part.substring(1,part.length)}}return{tagName:tagName,id:id,className:classes.join(" ")}}},{"browser-split":35}],136:[function(require,module,exports){module.exports={a:true,defs:true,glyph:true,g:true,marker:true,mask:true,"missing-glyph":true,pattern:true,svg:true,"switch":true,symbol:true,desc:true,metadata:true,title:true}},{}],137:[function(require,module,exports){var init=require("./init");module.exports=init([require("./modules/attributes"),require("./modules/style")])},{"./init":138,"./modules/attributes":139,"./modules/style":140}],138:[function(require,module,exports){var parseSelector=require("./parse-selector");var VOID_ELEMENTS=require("./void-elements");var CONTAINER_ELEMENTS=require("./container-elements");module.exports=function init(modules){function parse(data){return modules.reduce(function(arr,fn){arr.push(fn(data));return arr},[]).filter(function(result){return result!==""})}return function renderToString(vnode){if(!vnode.sel&&vnode.text){return vnode.text}vnode.data=vnode.data||{};if(typeof vnode.sel==="string"&&vnode.sel.slice(0,5)==="thunk"){vnode=vnode.data.fn.apply(null,vnode.data.args)}var tagName=parseSelector(vnode.sel).tagName;var attributes=parse(vnode);var svg=vnode.data.ns==="http://www.w3.org/2000/svg";var tag=[];tag.push("<"+tagName);if(attributes.length){tag.push(" "+attributes.join(" "))}if(svg&&CONTAINER_ELEMENTS[tagName]!==true){tag.push(" /")}tag.push(">");if(VOID_ELEMENTS[tagName]!==true&&!svg||svg&&CONTAINER_ELEMENTS[tagName]===true){if(vnode.data.props&&vnode.data.props.innerHTML){tag.push(vnode.data.props.innerHTML)}else if(vnode.text){tag.push(vnode.text)}else if(vnode.children){vnode.children.forEach(function(child){tag.push(renderToString(child))})}tag.push("</"+tagName+">")}return tag.join("")}}},{"./container-elements":136,"./parse-selector":141,"./void-elements":142}],139:[function(require,module,exports){var forOwn=require("lodash.forown");var escape=require("lodash.escape");var union=require("lodash.union");var parseSelector=require("../parse-selector");module.exports=function attributes(vnode){var selector=parseSelector(vnode.sel);var parsedClasses=selector.className.split(" ");var attributes=[];var classes=[];var values={};if(selector.id){values.id=selector.id}setAttributes(vnode.data.props,values);setAttributes(vnode.data.attrs,values);if(vnode.data.class){values.class=undefined}forOwn(vnode.data.class,function(value,key){if(value===true){classes.push(key)}});classes=union(classes,values.class,parsedClasses).filter(function(x){return x!==""});if(classes.length){values.class=classes.join(" ")}forOwn(values,function(value,key){attributes.push(value===true?key:key+'="'+escape(value)+'"')});return attributes.length?attributes.join(" "):""};function setAttributes(values,target){forOwn(values,function(value,key){if(key==="htmlFor"){target["for"]=value;return}if(key==="className"){target["class"]=value.split(" ");return}if(key==="innerHTML"){return}target[key]=value})}},{"../parse-selector":141,"lodash.escape":121,"lodash.forown":122,"lodash.union":128}],140:[function(require,module,exports){var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var forOwn=require("lodash.forown");var escape=require("lodash.escape");var kebabCase=require("lodash.kebabcase");module.exports=function style(vnode){var styles=[];var style=vnode.data.style||{};if(style.delayed){_extends(style,style.delayed)}forOwn(style,function(value,key){if(typeof value==="string"){styles.push(kebabCase(key)+": "+escape(value))}});return styles.length?'style="'+styles.join("; ")+'"':""}},{"lodash.escape":121,"lodash.forown":122,"lodash.kebabcase":125}],141:[function(require,module,exports){var split=require("browser-split");var classIdSplit=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/;var notClassId=/^\.|#/;module.exports=function parseSelector(selector,upper){selector=selector||"";var tagName;var id="";var classes=[];var tagParts=split(selector,classIdSplit);if(notClassId.test(tagParts[1])||selector===""){tagName="div"}var part,type,i;for(i=0;i<tagParts.length;i++){part=tagParts[i];if(!part){continue}type=part.charAt(0);if(!tagName){tagName=part}else if(type==="."){classes.push(part.substring(1,part.length))}else if(type==="#"){id=part.substring(1,part.length)}}return{tagName:upper===true?tagName.toUpperCase():tagName,id:id,className:classes.join(" ")}}},{"browser-split":35}],142:[function(require,module,exports){module.exports={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true}},{}],143:[function(require,module,exports){var VNode=require("./vnode");var is=require("./is");function addNS(data,children){data.ns="http://www.w3.org/2000/svg";if(children!==undefined){for(var i=0;i<children.length;++i){addNS(children[i].data,children[i].children)}}}module.exports=function h(sel,b,c){var data={},children,text,i;if(c!==undefined){data=b;if(is.array(c)){children=c}else if(is.primitive(c)){text=c}}else if(b!==undefined){if(is.array(b)){children=b}else if(is.primitive(b)){text=b}else{data=b}}if(is.array(children)){for(i=0;i<children.length;++i){if(is.primitive(children[i]))children[i]=VNode(undefined,undefined,undefined,children[i])}}if(sel[0]==="s"&&sel[1]==="v"&&sel[2]==="g"){addNS(data,children)}return VNode(sel,data,children,text,undefined)}},{"./is":145,"./vnode":154}],144:[function(require,module,exports){function createElement(tagName){return document.createElement(tagName)}function createElementNS(namespaceURI,qualifiedName){return document.createElementNS(namespaceURI,qualifiedName)}function createTextNode(text){return document.createTextNode(text)}function insertBefore(parentNode,newNode,referenceNode){parentNode.insertBefore(newNode,referenceNode)}function removeChild(node,child){node.removeChild(child)}function appendChild(node,child){node.appendChild(child)}function parentNode(node){return node.parentElement}function nextSibling(node){return node.nextSibling}function tagName(node){return node.tagName}function setTextContent(node,text){node.textContent=text}module.exports={createElement:createElement,createElementNS:createElementNS,createTextNode:createTextNode,appendChild:appendChild,removeChild:removeChild,insertBefore:insertBefore,parentNode:parentNode,nextSibling:nextSibling,tagName:tagName,setTextContent:setTextContent}},{}],145:[function(require,module,exports){module.exports={array:Array.isArray,primitive:function(s){return typeof s==="string"||typeof s==="number"}}},{}],146:[function(require,module,exports){var booleanAttrs=["allowfullscreen","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","draggable","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","spellcheck","translate","truespeed","typemustmatch","visible"];var booleanAttrsDict={};for(var i=0,len=booleanAttrs.length;i<len;i++){booleanAttrsDict[booleanAttrs[i]]=true}function updateAttrs(oldVnode,vnode){var key,cur,old,elm=vnode.elm,oldAttrs=oldVnode.data.attrs||{},attrs=vnode.data.attrs||{};for(key in attrs){cur=attrs[key];old=oldAttrs[key];if(old!==cur){if(!cur&&booleanAttrsDict[key])elm.removeAttribute(key);else elm.setAttribute(key,cur)}}for(key in oldAttrs){if(!(key in attrs)){elm.removeAttribute(key)}}}module.exports={create:updateAttrs,update:updateAttrs}},{}],147:[function(require,module,exports){function updateClass(oldVnode,vnode){var cur,name,elm=vnode.elm,oldClass=oldVnode.data.class||{},klass=vnode.data.class||{};for(name in oldClass){if(!klass[name]){elm.classList.remove(name)}}for(name in klass){cur=klass[name];if(cur!==oldClass[name]){elm.classList[cur?"add":"remove"](name)}}}module.exports={create:updateClass,update:updateClass}},{}],148:[function(require,module,exports){var is=require("../is");function arrInvoker(arr){return function(){if(!arr.length)return;arr.length===2?arr[0](arr[1]):arr[0].apply(undefined,arr.slice(1))}}function fnInvoker(o){return function(ev){if(o.fn===null)return;o.fn(ev)}}function updateEventListeners(oldVnode,vnode){var name,cur,old,elm=vnode.elm,oldOn=oldVnode.data.on||{},on=vnode.data.on;if(!on)return;for(name in on){cur=on[name];old=oldOn[name];if(old===undefined){if(is.array(cur)){elm.addEventListener(name,arrInvoker(cur))}else{cur={fn:cur};on[name]=cur;elm.addEventListener(name,fnInvoker(cur))}}else if(is.array(old)){old.length=cur.length;for(var i=0;i<old.length;++i)old[i]=cur[i];on[name]=old}else{old.fn=cur;on[name]=old}}if(oldOn){for(name in oldOn){if(on[name]===undefined){var old=oldOn[name];if(is.array(old)){old.length=0}else{old.fn=null}}}}}module.exports={create:updateEventListeners,update:updateEventListeners}},{"../is":145}],149:[function(require,module,exports){var raf=typeof window!=="undefined"&&window.requestAnimationFrame||setTimeout;var nextFrame=function(fn){raf(function(){raf(fn)})};function setNextFrame(obj,prop,val){nextFrame(function(){obj[prop]=val})}function getTextNodeRect(textNode){var rect;if(document.createRange){var range=document.createRange();range.selectNodeContents(textNode);if(range.getBoundingClientRect){rect=range.getBoundingClientRect()}}return rect}function calcTransformOrigin(isTextNode,textRect,boundingRect){if(isTextNode){if(textRect){var relativeCenterX=textRect.left+textRect.width/2-boundingRect.left;var relativeCenterY=textRect.top+textRect.height/2-boundingRect.top;return relativeCenterX+"px "+relativeCenterY+"px"}}return"0 0"}function getTextDx(oldTextRect,newTextRect){if(oldTextRect&&newTextRect){return oldTextRect.left+oldTextRect.width/2-(newTextRect.left+newTextRect.width/2)}return 0}function getTextDy(oldTextRect,newTextRect){if(oldTextRect&&newTextRect){return oldTextRect.top+oldTextRect.height/2-(newTextRect.top+newTextRect.height/2)}return 0}function isTextElement(elm){return elm.childNodes.length===1&&elm.childNodes[0].nodeType===3}var removed,created;function pre(oldVnode,vnode){removed={};created=[]}function create(oldVnode,vnode){var hero=vnode.data.hero;if(hero&&hero.id){created.push(hero.id);created.push(vnode)}}function destroy(vnode){var hero=vnode.data.hero;if(hero&&hero.id){var elm=vnode.elm;vnode.isTextNode=isTextElement(elm);vnode.boundingRect=elm.getBoundingClientRect();vnode.textRect=vnode.isTextNode?getTextNodeRect(elm.childNodes[0]):null;var computedStyle=window.getComputedStyle(elm,null);vnode.savedStyle=JSON.parse(JSON.stringify(computedStyle));removed[hero.id]=vnode}}function post(){var i,id,newElm,oldVnode,oldElm,hRatio,wRatio,oldRect,newRect,dx,dy,origTransform,origTransition,newStyle,oldStyle,newComputedStyle,isTextNode,newTextRect,oldTextRect;for(i=0;i<created.length;i+=2){id=created[i];newElm=created[i+1].elm;oldVnode=removed[id];if(oldVnode){isTextNode=oldVnode.isTextNode&&isTextElement(newElm);newStyle=newElm.style;newComputedStyle=window.getComputedStyle(newElm,null);oldElm=oldVnode.elm;oldStyle=oldElm.style;newRect=newElm.getBoundingClientRect();oldRect=oldVnode.boundingRect;if(isTextNode){newTextRect=getTextNodeRect(newElm.childNodes[0]);oldTextRect=oldVnode.textRect;dx=getTextDx(oldTextRect,newTextRect);dy=getTextDy(oldTextRect,newTextRect)}else{dx=oldRect.left-newRect.left;dy=oldRect.top-newRect.top}hRatio=newRect.height/Math.max(oldRect.height,1);wRatio=isTextNode?hRatio:newRect.width/Math.max(oldRect.width,1);origTransform=newStyle.transform;origTransition=newStyle.transition;if(newComputedStyle.display==="inline")newStyle.display="inline-block";newStyle.transition=origTransition+"transform 0s";newStyle.transformOrigin=calcTransformOrigin(isTextNode,newTextRect,newRect);newStyle.opacity="0";newStyle.transform=origTransform+"translate("+dx+"px, "+dy+"px) "+"scale("+1/wRatio+", "+1/hRatio+")";setNextFrame(newStyle,"transition",origTransition);setNextFrame(newStyle,"transform",origTransform);setNextFrame(newStyle,"opacity","1");for(var key in oldVnode.savedStyle){if(parseInt(key)!=key){var ms=key.substring(0,2)==="ms";var moz=key.substring(0,3)==="moz";var webkit=key.substring(0,6)==="webkit";if(!ms&&!moz&&!webkit)oldStyle[key]=oldVnode.savedStyle[key]}}oldStyle.position="absolute";oldStyle.top=oldRect.top+"px";oldStyle.left=oldRect.left+"px";oldStyle.width=oldRect.width+"px";oldStyle.height=oldRect.height+"px";oldStyle.margin=0;oldStyle.transformOrigin=calcTransformOrigin(isTextNode,oldTextRect,oldRect);oldStyle.transform="";oldStyle.opacity="1";document.body.appendChild(oldElm);setNextFrame(oldStyle,"transform","translate("+-dx+"px, "+-dy+"px) scale("+wRatio+", "+hRatio+")");setNextFrame(oldStyle,"opacity","0");oldElm.addEventListener("transitionend",function(ev){if(ev.propertyName==="transform")document.body.removeChild(ev.target)})}}removed=created=undefined}module.exports={pre:pre,create:create,destroy:destroy,post:post}},{}],150:[function(require,module,exports){function updateProps(oldVnode,vnode){var key,cur,old,elm=vnode.elm,oldProps=oldVnode.data.props||{},props=vnode.data.props||{};for(key in oldProps){if(!props[key]){delete elm[key]}}for(key in props){cur=props[key];old=oldProps[key];if(old!==cur&&(key!=="value"||elm[key]!==cur)){elm[key]=cur}}}module.exports={create:updateProps,update:updateProps}},{}],151:[function(require,module,exports){var raf=typeof window!=="undefined"&&window.requestAnimationFrame||setTimeout;var nextFrame=function(fn){raf(function(){raf(fn)})};function setNextFrame(obj,prop,val){nextFrame(function(){obj[prop]=val})}function updateStyle(oldVnode,vnode){var cur,name,elm=vnode.elm,oldStyle=oldVnode.data.style||{},style=vnode.data.style||{},oldHasDel="delayed"in oldStyle;for(name in oldStyle){if(!style[name]){elm.style[name]=""}}for(name in style){cur=style[name];if(name==="delayed"){for(name in style.delayed){cur=style.delayed[name];if(!oldHasDel||cur!==oldStyle.delayed[name]){setNextFrame(elm.style,name,cur)}}}else if(name!=="remove"&&cur!==oldStyle[name]){elm.style[name]=cur}}}function applyDestroyStyle(vnode){var style,name,elm=vnode.elm,s=vnode.data.style;if(!s||!(style=s.destroy))return;for(name in style){elm.style[name]=style[name]}}function applyRemoveStyle(vnode,rm){var s=vnode.data.style;if(!s||!s.remove){rm();return}var name,elm=vnode.elm,idx,i=0,maxDur=0,compStyle,style=s.remove,amount=0,applied=[];for(name in style){applied.push(name);elm.style[name]=style[name]}compStyle=getComputedStyle(elm);var props=compStyle["transition-property"].split(", ");for(;i<props.length;++i){if(applied.indexOf(props[i])!==-1)amount++}elm.addEventListener("transitionend",function(ev){if(ev.target===elm)--amount;if(amount===0)rm()})}module.exports={create:updateStyle,update:updateStyle,destroy:applyDestroyStyle,remove:applyRemoveStyle}},{}],152:[function(require,module,exports){"use strict";var VNode=require("./vnode");var is=require("./is");var domApi=require("./htmldomapi");function isUndef(s){return s===undefined}function isDef(s){return s!==undefined}var emptyNode=VNode("",{},[],undefined,undefined);function sameVnode(vnode1,vnode2){return vnode1.key===vnode2.key&&vnode1.sel===vnode2.sel}function createKeyToOldIdx(children,beginIdx,endIdx){var i,map={},key;for(i=beginIdx;i<=endIdx;++i){key=children[i].key;if(isDef(key))map[key]=i}return map}var hooks=["create","update","remove","destroy","pre","post"];function init(modules,api){var i,j,cbs={};if(isUndef(api))api=domApi;for(i=0;i<hooks.length;++i){cbs[hooks[i]]=[];for(j=0;j<modules.length;++j){if(modules[j][hooks[i]]!==undefined)cbs[hooks[i]].push(modules[j][hooks[i]])}}function emptyNodeAt(elm){return VNode(api.tagName(elm).toLowerCase(),{},[],undefined,elm)}function createRmCb(childElm,listeners){return function(){if(--listeners===0){var parent=api.parentNode(childElm);api.removeChild(parent,childElm)}}}function createElm(vnode,insertedVnodeQueue){var i,data=vnode.data;if(isDef(data)){if(isDef(i=data.hook)&&isDef(i=i.init)){i(vnode);data=vnode.data}}var elm,children=vnode.children,sel=vnode.sel;if(isDef(sel)){var hashIdx=sel.indexOf("#");var dotIdx=sel.indexOf(".",hashIdx);var hash=hashIdx>0?hashIdx:sel.length;var dot=dotIdx>0?dotIdx:sel.length;var tag=hashIdx!==-1||dotIdx!==-1?sel.slice(0,Math.min(hash,dot)):sel;elm=vnode.elm=isDef(data)&&isDef(i=data.ns)?api.createElementNS(i,tag):api.createElement(tag);if(hash<dot)elm.id=sel.slice(hash+1,dot);if(dotIdx>0)elm.className=sel.slice(dot+1).replace(/\./g," ");if(is.array(children)){for(i=0;i<children.length;++i){api.appendChild(elm,createElm(children[i],insertedVnodeQueue))}}else if(is.primitive(vnode.text)){api.appendChild(elm,api.createTextNode(vnode.text))}for(i=0;i<cbs.create.length;++i)cbs.create[i](emptyNode,vnode);i=vnode.data.hook;if(isDef(i)){if(i.create)i.create(emptyNode,vnode);if(i.insert)insertedVnodeQueue.push(vnode)}}else{elm=vnode.elm=api.createTextNode(vnode.text)}return vnode.elm}function addVnodes(parentElm,before,vnodes,startIdx,endIdx,insertedVnodeQueue){for(;startIdx<=endIdx;++startIdx){api.insertBefore(parentElm,createElm(vnodes[startIdx],insertedVnodeQueue),before)}}function invokeDestroyHook(vnode){var i,j,data=vnode.data;if(isDef(data)){if(isDef(i=data.hook)&&isDef(i=i.destroy))i(vnode);for(i=0;i<cbs.destroy.length;++i)cbs.destroy[i](vnode);if(isDef(i=vnode.children)){for(j=0;j<vnode.children.length;++j){invokeDestroyHook(vnode.children[j])}}}}function removeVnodes(parentElm,vnodes,startIdx,endIdx){for(;startIdx<=endIdx;++startIdx){var i,listeners,rm,ch=vnodes[startIdx];if(isDef(ch)){if(isDef(ch.sel)){invokeDestroyHook(ch);listeners=cbs.remove.length+1;rm=createRmCb(ch.elm,listeners);for(i=0;i<cbs.remove.length;++i)cbs.remove[i](ch,rm);if(isDef(i=ch.data)&&isDef(i=i.hook)&&isDef(i=i.remove)){i(ch,rm)}else{rm()}}else{api.removeChild(parentElm,ch.elm)}}}}function updateChildren(parentElm,oldCh,newCh,insertedVnodeQueue){var oldStartIdx=0,newStartIdx=0;var oldEndIdx=oldCh.length-1;var oldStartVnode=oldCh[0];var oldEndVnode=oldCh[oldEndIdx];var newEndIdx=newCh.length-1;var newStartVnode=newCh[0];var newEndVnode=newCh[newEndIdx];var oldKeyToIdx,idxInOld,elmToMove,before;while(oldStartIdx<=oldEndIdx&&newStartIdx<=newEndIdx){if(isUndef(oldStartVnode)){oldStartVnode=oldCh[++oldStartIdx]}else if(isUndef(oldEndVnode)){oldEndVnode=oldCh[--oldEndIdx]}else if(sameVnode(oldStartVnode,newStartVnode)){patchVnode(oldStartVnode,newStartVnode,insertedVnodeQueue);oldStartVnode=oldCh[++oldStartIdx];newStartVnode=newCh[++newStartIdx]}else if(sameVnode(oldEndVnode,newEndVnode)){patchVnode(oldEndVnode,newEndVnode,insertedVnodeQueue);oldEndVnode=oldCh[--oldEndIdx];newEndVnode=newCh[--newEndIdx]}else if(sameVnode(oldStartVnode,newEndVnode)){patchVnode(oldStartVnode,newEndVnode,insertedVnodeQueue);api.insertBefore(parentElm,oldStartVnode.elm,api.nextSibling(oldEndVnode.elm));oldStartVnode=oldCh[++oldStartIdx];newEndVnode=newCh[--newEndIdx]}else if(sameVnode(oldEndVnode,newStartVnode)){patchVnode(oldEndVnode,newStartVnode,insertedVnodeQueue);api.insertBefore(parentElm,oldEndVnode.elm,oldStartVnode.elm);oldEndVnode=oldCh[--oldEndIdx];newStartVnode=newCh[++newStartIdx]}else{if(isUndef(oldKeyToIdx))oldKeyToIdx=createKeyToOldIdx(oldCh,oldStartIdx,oldEndIdx);idxInOld=oldKeyToIdx[newStartVnode.key];if(isUndef(idxInOld)){api.insertBefore(parentElm,createElm(newStartVnode,insertedVnodeQueue),oldStartVnode.elm);newStartVnode=newCh[++newStartIdx]}else{elmToMove=oldCh[idxInOld];patchVnode(elmToMove,newStartVnode,insertedVnodeQueue);oldCh[idxInOld]=undefined;api.insertBefore(parentElm,elmToMove.elm,oldStartVnode.elm);newStartVnode=newCh[++newStartIdx]}}}if(oldStartIdx>oldEndIdx){before=isUndef(newCh[newEndIdx+1])?null:newCh[newEndIdx+1].elm;addVnodes(parentElm,before,newCh,newStartIdx,newEndIdx,insertedVnodeQueue)}else if(newStartIdx>newEndIdx){removeVnodes(parentElm,oldCh,oldStartIdx,oldEndIdx)}}function patchVnode(oldVnode,vnode,insertedVnodeQueue){var i,hook;if(isDef(i=vnode.data)&&isDef(hook=i.hook)&&isDef(i=hook.prepatch)){i(oldVnode,vnode)}var elm=vnode.elm=oldVnode.elm,oldCh=oldVnode.children,ch=vnode.children;if(oldVnode===vnode)return;if(!sameVnode(oldVnode,vnode)){var parentElm=api.parentNode(oldVnode.elm);elm=createElm(vnode,insertedVnodeQueue);api.insertBefore(parentElm,elm,oldVnode.elm);removeVnodes(parentElm,[oldVnode],0,0);return}if(isDef(vnode.data)){for(i=0;i<cbs.update.length;++i)cbs.update[i](oldVnode,vnode);i=vnode.data.hook;if(isDef(i)&&isDef(i=i.update))i(oldVnode,vnode)}if(isUndef(vnode.text)){if(isDef(oldCh)&&isDef(ch)){if(oldCh!==ch)updateChildren(elm,oldCh,ch,insertedVnodeQueue)}else if(isDef(ch)){if(isDef(oldVnode.text))api.setTextContent(elm,"");addVnodes(elm,null,ch,0,ch.length-1,insertedVnodeQueue)}else if(isDef(oldCh)){removeVnodes(elm,oldCh,0,oldCh.length-1)}else if(isDef(oldVnode.text)){api.setTextContent(elm,"")}}else if(oldVnode.text!==vnode.text){api.setTextContent(elm,vnode.text)}if(isDef(hook)&&isDef(i=hook.postpatch)){i(oldVnode,vnode)}}return function(oldVnode,vnode){var i,elm,parent;var insertedVnodeQueue=[];for(i=0;i<cbs.pre.length;++i)cbs.pre[i]();if(isUndef(oldVnode.sel)){oldVnode=emptyNodeAt(oldVnode)}if(sameVnode(oldVnode,vnode)){patchVnode(oldVnode,vnode,insertedVnodeQueue)}else{elm=oldVnode.elm;parent=api.parentNode(elm);createElm(vnode,insertedVnodeQueue);if(parent!==null){api.insertBefore(parent,vnode.elm,api.nextSibling(elm));removeVnodes(parent,[oldVnode],0,0)}}for(i=0;i<insertedVnodeQueue.length;++i){insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i])}for(i=0;i<cbs.post.length;++i)cbs.post[i]();return vnode}}module.exports={init:init}},{"./htmldomapi":144,"./is":145,"./vnode":154}],153:[function(require,module,exports){var h=require("./h");function copyToThunk(vnode,thunk){thunk.elm=vnode.elm;vnode.data.fn=thunk.data.fn;vnode.data.args=thunk.data.args;thunk.data=vnode.data;thunk.children=vnode.children;thunk.text=vnode.text;thunk.elm=vnode.elm}function init(thunk){var i,cur=thunk.data;var vnode=cur.fn.apply(undefined,cur.args);copyToThunk(vnode,thunk)}function prepatch(oldVnode,thunk){var i,old=oldVnode.data,cur=thunk.data,vnode;var oldArgs=old.args,args=cur.args;if(old.fn!==cur.fn||oldArgs.length!==args.length){copyToThunk(cur.fn.apply(undefined,args),thunk)}for(i=0;i<args.length;++i){if(oldArgs[i]!==args[i]){copyToThunk(cur.fn.apply(undefined,args),thunk);return}}copyToThunk(oldVnode,thunk)}module.exports=function(sel,key,fn,args){if(args===undefined){args=fn;fn=key;key=undefined}return h(sel,{key:key,hook:{init:init,prepatch:prepatch},fn:fn,args:args})}},{"./h":143}],154:[function(require,module,exports){module.exports=function(sel,data,children,text,elm){var key=data===undefined?undefined:data.key;return{sel:sel,data:data,children:children,text:text,elm:elm,key:key}}},{}],155:[function(require,module,exports){"use strict";module.exports=function(str){return encodeURIComponent(str).replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}},{}],156:[function(require,module,exports){module.exports=require("./lib/index")},{"./lib/index":157}],157:[function(require,module,exports){(function(global){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ponyfill=require("./ponyfill");var _ponyfill2=_interopRequireDefault(_ponyfill);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var root;if(typeof self!=="undefined"){root=self}else if(typeof window!=="undefined"){root=window}else if(typeof global!=="undefined"){root=global}else if(typeof module!=="undefined"){root=module}else{root=Function("return this")()}var result=(0,_ponyfill2["default"])(root);exports["default"]=result}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./ponyfill":158}],158:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=symbolObservablePonyfill;function symbolObservablePonyfill(root){var result;var _Symbol=root.Symbol;if(typeof _Symbol==="function"){if(_Symbol.observable){result=_Symbol.observable}else{result=_Symbol("observable");_Symbol.observable=result}}else{result="@@observable"}return result}},{}],159:[function(require,module,exports){(function(process){"use strict";var warning=function(){};if(process.env.NODE_ENV!=="production"){warning=function(condition,format,args){var len=arguments.length;args=new Array(len>2?len-2:0);for(var key=2;key<len;key++){args[key-2]=arguments[key]}if(format===undefined){throw new Error("`warning(condition, format, ...args)` requires a warning "+"message argument")}if(format.length<10||/^[s\W]*$/.test(format)){throw new Error("The warning format should be able to uniquely identify this "+"warning. Please, use a more descriptive format than: "+format)}if(!condition){var argIndex=0;var message="Warning: "+format.replace(/%s/g,function(){return args[argIndex++]});if(typeof console!=="undefined"){console.error(message)}try{throw new Error(message)}catch(x){}}}}module.exports=warning}).call(this,require("_process"))},{_process:132}],160:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var symbol_observable_1=require("symbol-observable");var NO={};function noop(){}function copy(a){var l=a.length;var b=Array(l);for(var i=0;i<l;++i){b[i]=a[i]}return b}exports.NO_IL={_n:noop,_e:noop,_c:noop};function internalizeProducer(producer){producer._start=function _start(il){il.next=il._n;il.error=il._e;il.complete=il._c;this.start(il)};producer._stop=producer.stop}function compose2(f1,f2){return function composedFn(arg){return f1(f2(arg))}}function and(f1,f2){return function andFn(t){return f1(t)&&f2(t)}}var Subscription=function(){function Subscription(_stream,_listener){this._stream=_stream;this._listener=_listener}Subscription.prototype.unsubscribe=function(){this._stream.removeListener(this._listener)};return Subscription}();exports.Subscription=Subscription;var ObservableProducer=function(){function ObservableProducer(observable){this.type="fromObservable";this.ins=observable}ObservableProducer.prototype._start=function(out){this.out=out;this._subscription=this.ins.subscribe(new ObservableListener(out))};ObservableProducer.prototype._stop=function(){this._subscription.unsubscribe()};return ObservableProducer}();var ObservableListener=function(){function ObservableListener(_listener){this._listener=_listener}ObservableListener.prototype.next=function(value){this._listener._n(value)};ObservableListener.prototype.error=function(err){this._listener._e(err)};ObservableListener.prototype.complete=function(){this._listener._c()};return ObservableListener}();var MergeProducer=function(){function MergeProducer(insArr){this.type="merge";this.insArr=insArr;this.out=NO;this.ac=0}MergeProducer.prototype._start=function(out){this.out=out;var s=this.insArr;var L=s.length;this.ac=L;for(var i=0;i<L;i++){s[i]._add(this)}};MergeProducer.prototype._stop=function(){var s=this.insArr;var L=s.length;for(var i=0;i<L;i++){s[i]._remove(this)}this.out=NO};MergeProducer.prototype._n=function(t){var u=this.out;if(u===NO)return;u._n(t)};MergeProducer.prototype._e=function(err){var u=this.out;if(u===NO)return;u._e(err)};MergeProducer.prototype._c=function(){if(--this.ac<=0){var u=this.out;if(u===NO)return;u._c()}};return MergeProducer}();exports.MergeProducer=MergeProducer;var CombineListener=function(){function CombineListener(i,out,p){this.i=i;this.out=out;this.p=p;p.ils.push(this)}CombineListener.prototype._n=function(t){var p=this.p,out=this.out;if(out===NO)return;if(p.up(t,this.i)){out._n(p.vals)}};CombineListener.prototype._e=function(err){var out=this.out;if(out===NO)return;out._e(err)};CombineListener.prototype._c=function(){var p=this.p;if(p.out===NO)return;if(--p.Nc===0){p.out._c()}};return CombineListener}();exports.CombineListener=CombineListener;var CombineProducer=function(){function CombineProducer(insArr){this.type="combine";this.insArr=insArr;this.out=NO;this.ils=[];this.Nc=this.Nn=0;this.vals=[]}CombineProducer.prototype.up=function(t,i){var v=this.vals[i];var Nn=!this.Nn?0:v===NO?--this.Nn:this.Nn;this.vals[i]=t;return Nn===0};CombineProducer.prototype._start=function(out){this.out=out;var s=this.insArr;var n=this.Nc=this.Nn=s.length;var vals=this.vals=new Array(n);if(n===0){out._n([]);out._c()}else{for(var i=0;i<n;i++){vals[i]=NO;s[i]._add(new CombineListener(i,out,this))}}};CombineProducer.prototype._stop=function(){var s=this.insArr;var n=s.length;var ils=this.ils;for(var i=0;i<n;i++){s[i]._remove(ils[i])}this.out=NO;this.ils=[];this.vals=[]};return CombineProducer}();exports.CombineProducer=CombineProducer;var FromArrayProducer=function(){function FromArrayProducer(a){this.type="fromArray";this.a=a}FromArrayProducer.prototype._start=function(out){var a=this.a;for(var i=0,l=a.length;i<l;i++){out._n(a[i])}out._c()};FromArrayProducer.prototype._stop=function(){};return FromArrayProducer}();exports.FromArrayProducer=FromArrayProducer;var FromPromiseProducer=function(){function FromPromiseProducer(p){
this.type="fromPromise";this.on=false;this.p=p}FromPromiseProducer.prototype._start=function(out){var prod=this;this.on=true;this.p.then(function(v){if(prod.on){out._n(v);out._c()}},function(e){out._e(e)}).then(noop,function(err){setTimeout(function(){throw err})})};FromPromiseProducer.prototype._stop=function(){this.on=false};return FromPromiseProducer}();exports.FromPromiseProducer=FromPromiseProducer;var PeriodicProducer=function(){function PeriodicProducer(period){this.type="periodic";this.period=period;this.intervalID=-1;this.i=0}PeriodicProducer.prototype._start=function(stream){var self=this;function intervalHandler(){stream._n(self.i++)}this.intervalID=setInterval(intervalHandler,this.period)};PeriodicProducer.prototype._stop=function(){if(this.intervalID!==-1)clearInterval(this.intervalID);this.intervalID=-1;this.i=0};return PeriodicProducer}();exports.PeriodicProducer=PeriodicProducer;var DebugOperator=function(){function DebugOperator(ins,arg){this.type="debug";this.ins=ins;this.out=NO;this.s=noop;this.l="";if(typeof arg==="string"){this.l=arg}else if(typeof arg==="function"){this.s=arg}}DebugOperator.prototype._start=function(out){this.out=out;this.ins._add(this)};DebugOperator.prototype._stop=function(){this.ins._remove(this);this.out=NO};DebugOperator.prototype._n=function(t){var u=this.out;if(u===NO)return;var s=this.s,l=this.l;if(s!==noop){try{s(t)}catch(e){u._e(e)}}else if(l){console.log(l+":",t)}else{console.log(t)}u._n(t)};DebugOperator.prototype._e=function(err){var u=this.out;if(u===NO)return;u._e(err)};DebugOperator.prototype._c=function(){var u=this.out;if(u===NO)return;u._c()};return DebugOperator}();exports.DebugOperator=DebugOperator;var DropOperator=function(){function DropOperator(max,ins){this.type="drop";this.ins=ins;this.out=NO;this.max=max;this.dropped=0}DropOperator.prototype._start=function(out){this.out=out;this.dropped=0;this.ins._add(this)};DropOperator.prototype._stop=function(){this.ins._remove(this);this.out=NO};DropOperator.prototype._n=function(t){var u=this.out;if(u===NO)return;if(this.dropped++>=this.max)u._n(t)};DropOperator.prototype._e=function(err){var u=this.out;if(u===NO)return;u._e(err)};DropOperator.prototype._c=function(){var u=this.out;if(u===NO)return;u._c()};return DropOperator}();exports.DropOperator=DropOperator;var OtherIL=function(){function OtherIL(out,op){this.out=out;this.op=op}OtherIL.prototype._n=function(t){this.op.end()};OtherIL.prototype._e=function(err){this.out._e(err)};OtherIL.prototype._c=function(){this.op.end()};return OtherIL}();var EndWhenOperator=function(){function EndWhenOperator(o,ins){this.type="endWhen";this.ins=ins;this.out=NO;this.o=o;this.oil=exports.NO_IL}EndWhenOperator.prototype._start=function(out){this.out=out;this.o._add(this.oil=new OtherIL(out,this));this.ins._add(this)};EndWhenOperator.prototype._stop=function(){this.ins._remove(this);this.o._remove(this.oil);this.out=NO;this.oil=exports.NO_IL};EndWhenOperator.prototype.end=function(){var u=this.out;if(u===NO)return;u._c()};EndWhenOperator.prototype._n=function(t){var u=this.out;if(u===NO)return;u._n(t)};EndWhenOperator.prototype._e=function(err){var u=this.out;if(u===NO)return;u._e(err)};EndWhenOperator.prototype._c=function(){this.end()};return EndWhenOperator}();exports.EndWhenOperator=EndWhenOperator;var FilterOperator=function(){function FilterOperator(passes,ins){this.type="filter";this.ins=ins;this.out=NO;this.passes=passes}FilterOperator.prototype._start=function(out){this.out=out;this.ins._add(this)};FilterOperator.prototype._stop=function(){this.ins._remove(this);this.out=NO};FilterOperator.prototype._n=function(t){var u=this.out;if(u===NO)return;try{if(this.passes(t))u._n(t)}catch(e){u._e(e)}};FilterOperator.prototype._e=function(err){var u=this.out;if(u===NO)return;u._e(err)};FilterOperator.prototype._c=function(){var u=this.out;if(u===NO)return;u._c()};return FilterOperator}();exports.FilterOperator=FilterOperator;var FlattenListener=function(){function FlattenListener(out,op){this.out=out;this.op=op}FlattenListener.prototype._n=function(t){this.out._n(t)};FlattenListener.prototype._e=function(err){this.out._e(err)};FlattenListener.prototype._c=function(){this.op.inner=NO;this.op.less()};return FlattenListener}();var FlattenOperator=function(){function FlattenOperator(ins){this.type="flatten";this.ins=ins;this.out=NO;this.open=true;this.inner=NO;this.il=exports.NO_IL}FlattenOperator.prototype._start=function(out){this.out=out;this.open=true;this.inner=NO;this.il=exports.NO_IL;this.ins._add(this)};FlattenOperator.prototype._stop=function(){this.ins._remove(this);if(this.inner!==NO)this.inner._remove(this.il);this.out=NO;this.open=true;this.inner=NO;this.il=exports.NO_IL};FlattenOperator.prototype.less=function(){var u=this.out;if(u===NO)return;if(!this.open&&this.inner===NO)u._c()};FlattenOperator.prototype._n=function(s){var u=this.out;if(u===NO)return;var _a=this,inner=_a.inner,il=_a.il;if(inner!==NO&&il!==exports.NO_IL)inner._remove(il);(this.inner=s)._add(this.il=new FlattenListener(u,this))};FlattenOperator.prototype._e=function(err){var u=this.out;if(u===NO)return;u._e(err)};FlattenOperator.prototype._c=function(){this.open=false;this.less()};return FlattenOperator}();exports.FlattenOperator=FlattenOperator;var FoldOperator=function(){function FoldOperator(f,seed,ins){this.type="fold";this.ins=ins;this.out=NO;this.f=f;this.acc=this.seed=seed}FoldOperator.prototype._start=function(out){this.out=out;this.acc=this.seed;out._n(this.acc);this.ins._add(this)};FoldOperator.prototype._stop=function(){this.ins._remove(this);this.out=NO;this.acc=this.seed};FoldOperator.prototype._n=function(t){var u=this.out;if(u===NO)return;try{u._n(this.acc=this.f(this.acc,t))}catch(e){u._e(e)}};FoldOperator.prototype._e=function(err){var u=this.out;if(u===NO)return;u._e(err)};FoldOperator.prototype._c=function(){var u=this.out;if(u===NO)return;u._c()};return FoldOperator}();exports.FoldOperator=FoldOperator;var LastOperator=function(){function LastOperator(ins){this.type="last";this.ins=ins;this.out=NO;this.has=false;this.val=NO}LastOperator.prototype._start=function(out){this.out=out;this.has=false;this.ins._add(this)};LastOperator.prototype._stop=function(){this.ins._remove(this);this.out=NO;this.val=NO};LastOperator.prototype._n=function(t){this.has=true;this.val=t};LastOperator.prototype._e=function(err){var u=this.out;if(u===NO)return;u._e(err)};LastOperator.prototype._c=function(){var u=this.out;if(u===NO)return;if(this.has){u._n(this.val);u._c()}else{u._e("TODO show proper error")}};return LastOperator}();exports.LastOperator=LastOperator;var MapFlattenInner=function(){function MapFlattenInner(out,op){this.out=out;this.op=op}MapFlattenInner.prototype._n=function(r){this.out._n(r)};MapFlattenInner.prototype._e=function(err){this.out._e(err)};MapFlattenInner.prototype._c=function(){this.op.inner=NO;this.op.less()};return MapFlattenInner}();var MapFlattenOperator=function(){function MapFlattenOperator(mapOp){this.type=mapOp.type+"+flatten";this.ins=mapOp.ins;this.out=NO;this.mapOp=mapOp;this.inner=NO;this.il=exports.NO_IL;this.open=true}MapFlattenOperator.prototype._start=function(out){this.out=out;this.inner=NO;this.il=exports.NO_IL;this.open=true;this.mapOp.ins._add(this)};MapFlattenOperator.prototype._stop=function(){this.mapOp.ins._remove(this);if(this.inner!==NO)this.inner._remove(this.il);this.out=NO;this.inner=NO;this.il=exports.NO_IL};MapFlattenOperator.prototype.less=function(){if(!this.open&&this.inner===NO){var u=this.out;if(u===NO)return;u._c()}};MapFlattenOperator.prototype._n=function(v){var u=this.out;if(u===NO)return;var _a=this,inner=_a.inner,il=_a.il;var s;try{s=this.mapOp.project(v)}catch(e){u._e(e);return}if(inner!==NO&&il!==exports.NO_IL)inner._remove(il);(this.inner=s)._add(this.il=new MapFlattenInner(u,this))};MapFlattenOperator.prototype._e=function(err){var u=this.out;if(u===NO)return;u._e(err)};MapFlattenOperator.prototype._c=function(){this.open=false;this.less()};return MapFlattenOperator}();exports.MapFlattenOperator=MapFlattenOperator;var MapOperator=function(){function MapOperator(project,ins){this.type="map";this.ins=ins;this.out=NO;this.project=project}MapOperator.prototype._start=function(out){this.out=out;this.ins._add(this)};MapOperator.prototype._stop=function(){this.ins._remove(this);this.out=NO};MapOperator.prototype._n=function(t){var u=this.out;if(u===NO)return;try{u._n(this.project(t))}catch(e){u._e(e)}};MapOperator.prototype._e=function(err){var u=this.out;if(u===NO)return;u._e(err)};MapOperator.prototype._c=function(){var u=this.out;if(u===NO)return;u._c()};return MapOperator}();exports.MapOperator=MapOperator;var FilterMapOperator=function(_super){__extends(FilterMapOperator,_super);function FilterMapOperator(passes,project,ins){_super.call(this,project,ins);this.type="filter+map";this.passes=passes}FilterMapOperator.prototype._n=function(v){if(this.passes(v)){_super.prototype._n.call(this,v)}};return FilterMapOperator}(MapOperator);exports.FilterMapOperator=FilterMapOperator;var RememberOperator=function(){function RememberOperator(ins){this.type="remember";this.ins=ins;this.out=NO}RememberOperator.prototype._start=function(out){this.out=out;this.ins._add(out)};RememberOperator.prototype._stop=function(){this.ins._remove(this.out);this.out=NO};return RememberOperator}();exports.RememberOperator=RememberOperator;var ReplaceErrorOperator=function(){function ReplaceErrorOperator(fn,ins){this.type="replaceError";this.ins=ins;this.out=NO;this.fn=fn}ReplaceErrorOperator.prototype._start=function(out){this.out=out;this.ins._add(this)};ReplaceErrorOperator.prototype._stop=function(){this.ins._remove(this);this.out=NO};ReplaceErrorOperator.prototype._n=function(t){var u=this.out;if(u===NO)return;u._n(t)};ReplaceErrorOperator.prototype._e=function(err){var u=this.out;if(u===NO)return;try{this.ins._remove(this);(this.ins=this.fn(err))._add(this)}catch(e){u._e(e)}};ReplaceErrorOperator.prototype._c=function(){var u=this.out;if(u===NO)return;u._c()};return ReplaceErrorOperator}();exports.ReplaceErrorOperator=ReplaceErrorOperator;var StartWithOperator=function(){function StartWithOperator(ins,val){this.type="startWith";this.ins=ins;this.out=NO;this.val=val}StartWithOperator.prototype._start=function(out){this.out=out;this.out._n(this.val);this.ins._add(out)};StartWithOperator.prototype._stop=function(){this.ins._remove(this.out);this.out=NO};return StartWithOperator}();exports.StartWithOperator=StartWithOperator;var TakeOperator=function(){function TakeOperator(max,ins){this.type="take";this.ins=ins;this.out=NO;this.max=max;this.taken=0}TakeOperator.prototype._start=function(out){this.out=out;this.taken=0;if(this.max<=0){out._c()}else{this.ins._add(this)}};TakeOperator.prototype._stop=function(){this.ins._remove(this);this.out=NO};TakeOperator.prototype._n=function(t){var u=this.out;if(u===NO)return;if(this.taken++<this.max-1){u._n(t)}else{u._n(t);u._c()}};TakeOperator.prototype._e=function(err){var u=this.out;if(u===NO)return;u._e(err)};TakeOperator.prototype._c=function(){var u=this.out;if(u===NO)return;u._c()};return TakeOperator}();exports.TakeOperator=TakeOperator;var Stream=function(){function Stream(producer){this._prod=producer||NO;this._ils=[];this._stopID=NO;this._dl=NO;this._d=false;this._target=NO;this._err=NO}Stream.prototype._n=function(t){var a=this._ils;var L=a.length;if(this._d)this._dl._n(t);if(L==1)a[0]._n(t);else{var b=copy(a);for(var i=0;i<L;i++)b[i]._n(t)}};Stream.prototype._e=function(err){if(this._err!==NO)return;this._err=err;var a=this._ils;var L=a.length;this._x();if(this._d)this._dl._e(err);if(L==1)a[0]._e(err);else{var b=copy(a);for(var i=0;i<L;i++)b[i]._e(err)}};Stream.prototype._c=function(){var a=this._ils;var L=a.length;this._x();if(this._d)this._dl._c();if(L==1)a[0]._c();else{var b=copy(a);for(var i=0;i<L;i++)b[i]._c()}};Stream.prototype._x=function(){if(this._ils.length===0)return;if(this._prod!==NO)this._prod._stop();this._err=NO;this._ils=[]};Stream.prototype._stopNow=function(){this._prod._stop();this._err=NO;this._stopID=NO};Stream.prototype._add=function(il){var ta=this._target;if(ta!==NO)return ta._add(il);var a=this._ils;a.push(il);if(a.length>1)return;if(this._stopID!==NO){clearTimeout(this._stopID);this._stopID=NO}else{var p=this._prod;if(p!==NO)p._start(this)}};Stream.prototype._remove=function(il){var _this=this;var ta=this._target;if(ta!==NO)return ta._remove(il);var a=this._ils;var i=a.indexOf(il);if(i>-1){a.splice(i,1);if(this._prod!==NO&&a.length<=0){this._err=NO;this._stopID=setTimeout(function(){return _this._stopNow()})}else if(a.length===1){this._pruneCycles()}}};Stream.prototype._pruneCycles=function(){if(this._hasNoSinks(this,[])){this._remove(this._ils[0])}};Stream.prototype._hasNoSinks=function(x,trace){if(trace.indexOf(x)!==-1){return true}else if(x.out===this){return true}else if(x.out&&x.out!==NO){return this._hasNoSinks(x.out,trace.concat(x))}else if(x._ils){for(var i=0,N=x._ils.length;i<N;i++){if(!this._hasNoSinks(x._ils[i],trace.concat(x))){return false}}return true}else{return false}};Stream.prototype.ctor=function(){return this instanceof MemoryStream?MemoryStream:Stream};Stream.prototype.addListener=function(listener){listener._n=listener.next||noop;listener._e=listener.error||noop;listener._c=listener.complete||noop;this._add(listener)};Stream.prototype.removeListener=function(listener){this._remove(listener)};Stream.prototype.subscribe=function(listener){this.addListener(listener);return new Subscription(this,listener)};Stream.prototype[symbol_observable_1.default]=function(){return this};Stream.create=function(producer){if(producer){if(typeof producer.start!=="function"||typeof producer.stop!=="function"){throw new Error("producer requires both start and stop functions")}internalizeProducer(producer)}return new Stream(producer)};Stream.createWithMemory=function(producer){if(producer){internalizeProducer(producer)}return new MemoryStream(producer)};Stream.never=function(){return new Stream({_start:noop,_stop:noop})};Stream.empty=function(){return new Stream({_start:function(il){il._c()},_stop:noop})};Stream.throw=function(error){return new Stream({_start:function(il){il._e(error)},_stop:noop})};Stream.from=function(input){if(typeof input[symbol_observable_1.default]==="function"){return Stream.fromObservable(input)}else if(typeof input.then==="function"){return Stream.fromPromise(input)}else if(Array.isArray(input)){return Stream.fromArray(input)}throw new TypeError("Type of input to from() must be an Array, Promise, or Observable")};Stream.of=function(){var items=[];for(var _i=0;_i<arguments.length;_i++){items[_i-0]=arguments[_i]}return Stream.fromArray(items)};Stream.fromArray=function(array){return new Stream(new FromArrayProducer(array))};Stream.fromPromise=function(promise){return new Stream(new FromPromiseProducer(promise))};Stream.fromObservable=function(observable){return new Stream(new ObservableProducer(observable))};Stream.periodic=function(period){return new Stream(new PeriodicProducer(period))};Stream.prototype._map=function(project){var p=this._prod;var ctor=this.ctor();if(p instanceof FilterOperator){return new ctor(new FilterMapOperator(p.passes,project,p.ins))}if(p instanceof FilterMapOperator){return new ctor(new FilterMapOperator(p.passes,compose2(project,p.project),p.ins))}if(p instanceof MapOperator){return new ctor(new MapOperator(compose2(project,p.project),p.ins))}return new ctor(new MapOperator(project,this))};Stream.prototype.map=function(project){return this._map(project)};Stream.prototype.mapTo=function(projectedValue){var s=this.map(function(){return projectedValue});var op=s._prod;op.type=op.type.replace("map","mapTo");return s};Stream.prototype.filter=function(passes){var p=this._prod;if(p instanceof FilterOperator){return new Stream(new FilterOperator(and(p.passes,passes),p.ins))}return new Stream(new FilterOperator(passes,this))};Stream.prototype.take=function(amount){return new(this.ctor())(new TakeOperator(amount,this))};Stream.prototype.drop=function(amount){return new Stream(new DropOperator(amount,this))};Stream.prototype.last=function(){return new Stream(new LastOperator(this))};Stream.prototype.startWith=function(initial){return new MemoryStream(new StartWithOperator(this,initial))};Stream.prototype.endWhen=function(other){return new(this.ctor())(new EndWhenOperator(other,this))};Stream.prototype.fold=function(accumulate,seed){return new MemoryStream(new FoldOperator(accumulate,seed,this))};Stream.prototype.replaceError=function(replace){return new(this.ctor())(new ReplaceErrorOperator(replace,this))};Stream.prototype.flatten=function(){var p=this._prod;return new Stream(p instanceof MapOperator&&!(p instanceof FilterMapOperator)?new MapFlattenOperator(p):new FlattenOperator(this))};Stream.prototype.compose=function(operator){return operator(this)};Stream.prototype.remember=function(){return new MemoryStream(new RememberOperator(this))};Stream.prototype.debug=function(labelOrSpy){return new(this.ctor())(new DebugOperator(this,labelOrSpy))};Stream.prototype.imitate=function(target){if(target instanceof MemoryStream){throw new Error("A MemoryStream was given to imitate(), but it only "+"supports a Stream. Read more about this restriction here: "+"https://github.com/staltz/xstream#faq")}this._target=target;for(var ils=this._ils,N=ils.length,i=0;i<N;i++){target._add(ils[i])}this._ils=[]};Stream.prototype.shamefullySendNext=function(value){this._n(value)};Stream.prototype.shamefullySendError=function(error){this._e(error)};Stream.prototype.shamefullySendComplete=function(){this._c()};Stream.prototype.setDebugListener=function(listener){if(!listener){this._d=false;this._dl=NO}else{this._d=true;listener._n=listener.next;listener._e=listener.error;listener._c=listener.complete;this._dl=listener}};Stream.merge=function merge(){var streams=[];for(var _i=0;_i<arguments.length;_i++){streams[_i-0]=arguments[_i]}return new Stream(new MergeProducer(streams))};Stream.combine=function combine(){var streams=[];for(var _i=0;_i<arguments.length;_i++){streams[_i-0]=arguments[_i]}return new Stream(new CombineProducer(streams))};return Stream}();exports.Stream=Stream;var MemoryStream=function(_super){__extends(MemoryStream,_super);function MemoryStream(producer){_super.call(this,producer);this._has=false}MemoryStream.prototype._n=function(x){this._v=x;this._has=true;_super.prototype._n.call(this,x)};MemoryStream.prototype._add=function(il){if(this._has){il._n(this._v)}_super.prototype._add.call(this,il)};MemoryStream.prototype._stopNow=function(){this._has=false;_super.prototype._stopNow.call(this)};MemoryStream.prototype._x=function(){this._has=false;_super.prototype._x.call(this)};MemoryStream.prototype.map=function(project){return this._map(project)};MemoryStream.prototype.mapTo=function(projectedValue){return _super.prototype.mapTo.call(this,projectedValue)};MemoryStream.prototype.take=function(amount){return _super.prototype.take.call(this,amount)};MemoryStream.prototype.endWhen=function(other){return _super.prototype.endWhen.call(this,other)};MemoryStream.prototype.replaceError=function(replace){return _super.prototype.replaceError.call(this,replace)};MemoryStream.prototype.remember=function(){return this};MemoryStream.prototype.debug=function(labelOrSpy){return _super.prototype.debug.call(this,labelOrSpy)};return MemoryStream}(Stream);exports.MemoryStream=MemoryStream;Object.defineProperty(exports,"__esModule",{value:true});exports.default=Stream},{"symbol-observable":156}],161:[function(require,module,exports){"use strict";var core_1=require("../core");var empty={};var DropRepeatsOperator=function(){function DropRepeatsOperator(ins,fn){this.ins=ins;this.fn=fn;this.type="dropRepeats";this.out=null;this.v=empty}DropRepeatsOperator.prototype._start=function(out){this.out=out;this.ins._add(this)};DropRepeatsOperator.prototype._stop=function(){this.ins._remove(this);this.out=null;this.v=empty};DropRepeatsOperator.prototype.isEq=function(x,y){return this.fn?this.fn(x,y):x===y};DropRepeatsOperator.prototype._n=function(t){var u=this.out;if(!u)return;var v=this.v;if(v!==empty&&this.isEq(t,v))return;this.v=Array.isArray(t)?t.slice():t;u._n(t)};DropRepeatsOperator.prototype._e=function(err){var u=this.out;if(!u)return;u._e(err)};DropRepeatsOperator.prototype._c=function(){var u=this.out;if(!u)return;u._c()};return DropRepeatsOperator}();exports.DropRepeatsOperator=DropRepeatsOperator;function dropRepeats(isEqual){if(isEqual===void 0){isEqual=void 0}return function dropRepeatsOperator(ins){return new core_1.Stream(new DropRepeatsOperator(ins,isEqual))}}Object.defineProperty(exports,"__esModule",{value:true});exports.default=dropRepeats},{"../core":160}],162:[function(require,module,exports){"use strict";var core_1=require("../core");var NO={};var SampleCombineListener=function(){function SampleCombineListener(i,p){this.i=i;this.p=p;p.ils[i]=this}SampleCombineListener.prototype._n=function(t){var p=this.p;if(p.out===NO)return;p.up(t,this.i)};SampleCombineListener.prototype._e=function(err){this.p._e(err)};SampleCombineListener.prototype._c=function(){this.p.down(this.i,this)};return SampleCombineListener}();exports.SampleCombineListener=SampleCombineListener;var SampleCombineOperator=function(){function SampleCombineOperator(ins,streams){this.type="sampleCombine";this.ins=ins;this.others=streams;this.out=NO;this.ils=[];this.Nn=0;this.vals=[]}SampleCombineOperator.prototype._start=function(out){this.out=out;var s=this.others;var n=this.Nn=s.length;var vals=this.vals=new Array(n);for(var i=0;i<n;i++){vals[i]=NO;s[i]._add(new SampleCombineListener(i,this))}this.ins._add(this)};SampleCombineOperator.prototype._stop=function(){var s=this.others;var n=s.length;var ils=this.ils;this.ins._remove(this);for(var i=0;i<n;i++){s[i]._remove(ils[i])}this.out=NO;this.vals=[];this.ils=[]};SampleCombineOperator.prototype._n=function(t){var out=this.out;if(out===NO)return;if(this.Nn>0)return;out._n([t].concat(this.vals))};SampleCombineOperator.prototype._e=function(err){var out=this.out;if(out===NO)return;out._e(err)};SampleCombineOperator.prototype._c=function(){var out=this.out;if(out===NO)return;out._c()};SampleCombineOperator.prototype.up=function(t,i){var v=this.vals[i];if(this.Nn>0&&v===NO){this.Nn--}this.vals[i]=t};SampleCombineOperator.prototype.down=function(i,l){this.others[i]._remove(l)};return SampleCombineOperator}();exports.SampleCombineOperator=SampleCombineOperator;var sampleCombine;sampleCombine=function sampleCombine(){var streams=[];for(var _i=0;_i<arguments.length;_i++){streams[_i-0]=arguments[_i]}return function sampleCombineOperator(sampler){return new core_1.Stream(new SampleCombineOperator(sampler,streams))}};Object.defineProperty(exports,"__esModule",{value:true});exports.default=sampleCombine},{"../core":160}],163:[function(require,module,exports){"use strict";var core_1=require("./core");exports.Stream=core_1.Stream;exports.MemoryStream=core_1.MemoryStream;Object.defineProperty(exports,"__esModule",{value:true});exports.default=core_1.Stream},{"./core":160}],164:[function(require,module,exports){"use strict";var _xstreamRun=require("@cycle/xstream-run");var _dom=require("@cycle/dom");var _storage=require("@cycle/storage");var _storage2=_interopRequireDefault(_storage);var _history=require("@cycle/history");var _history2=require("history");var _cycleOnionify=require("cycle-onionify");var _cycleOnionify2=_interopRequireDefault(_cycleOnionify);var _cycleStorageify=require("cycle-storageify");var _cycleStorageify2=_interopRequireDefault(_cycleStorageify);var _index=require("./components/TaskList/index");var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var main=(0,_cycleOnionify2.default)((0,_cycleStorageify2.default)(_index2.default,{key:"todos-cycle"}));(0,_xstreamRun.run)(main,{DOM:(0,_dom.makeDOMDriver)(".todoapp"),history:(0,_history.makeHistoryDriver)((0,_history2.createHistory)(),{capture:true}),storage:_storage2.default})},{"./components/TaskList/index":169,"@cycle/dom":13,"@cycle/history":23,"@cycle/storage":28,"@cycle/xstream-run":34,"cycle-onionify":36,"cycle-storageify":37,history:105}],165:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=Task;var _intent=require("./intent");var _intent2=_interopRequireDefault(_intent);var _model=require("./model");var _model2=_interopRequireDefault(_model);var _view=require("./view");var _view2=_interopRequireDefault(_view);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function Task(sources){var state$=sources.onion.state$;var action$=(0,_intent2.default)(sources.DOM);var reducer$=(0,_model2.default)(action$);var vdom$=(0,_view2.default)(state$);var sinks={DOM:vdom$,onion:reducer$};return sinks}},{"./intent":166,"./model":167,"./view":168}],166:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=intent;var _xstream=require("xstream");var _xstream2=_interopRequireDefault(_xstream);var _utils=require("../../utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function intent(domSource){var startEditAction$=domSource.select("label").events("dblclick").mapTo({type:"startEdit"});var doneEditAction$=domSource.select(".edit").events("keyup").filter(function(ev){return ev.keyCode===_utils.ENTER_KEY}).compose(function(s){return _xstream2.default.merge(s,domSource.select(".edit").events("blur",true))}).map(function(ev){return{payload:ev.target.value,type:"doneEdit"}});var cancelEditAction$=domSource.select(".edit").events("keyup").filter(function(ev){return ev.keyCode===_utils.ESC_KEY}).mapTo({type:"cancelEdit"});var toggleAction$=domSource.select(".toggle").events("change").map(function(ev){return ev.target.checked}).map(function(payload){return{type:"toggle",payload:payload}});var destroyAction$=domSource.select(".destroy").events("click").mapTo({type:"destroy"});return _xstream2.default.merge(startEditAction$,doneEditAction$,cancelEditAction$,toggleAction$,destroyAction$)}},{"../../utils":174,xstream:163}],167:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.default=model;var _xstream=require("xstream");var _xstream2=_interopRequireDefault(_xstream);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function model(action$){var startEditReducer$=action$.filter(function(action){return action.type==="startEdit"}).mapTo(function startEditReducer(data){return _extends({},data,{editing:true})});var doneEditReducer$=action$.filter(function(action){return action.type==="doneEdit"}).map(function(action){return function doneEditReducer(data){return _extends({},data,{title:action.payload,editing:false})}});var cancelEditReducer$=action$.filter(function(action){return action.type==="cancelEdit"}).mapTo(function cancelEditReducer(data){return _extends({},data,{editing:false})});var toggleReducer$=action$.filter(function(action){return action.type==="toggle"}).map(function(action){return function toggleReducer(data){return _extends({},data,{completed:action.payload})}});var destroyReducer$=action$.filter(function(action){return action.type==="destroy"}).map(function(action){return function destroyReducer(data){return void 0}});return _xstream2.default.merge(startEditReducer$,doneEditReducer$,cancelEditReducer$,toggleReducer$,destroyReducer$)}},{xstream:163}],168:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=view;var _dom=require("@cycle/dom");function view(state$){return state$.map(function(_ref){var title=_ref.title,completed=_ref.completed,editing=_ref.editing;return(0,_dom.li)(".todoRoot",{"class":{completed:completed,editing:editing}},[(0,_dom.div)(".view",[(0,_dom.input)(".toggle",{props:{type:"checkbox",checked:completed}}),(0,_dom.label)(title),(0,_dom.button)(".destroy")]),(0,_dom.input)(".edit",{props:{type:"text"},hook:{update:function update(oldVNode,_ref2){var elm=_ref2.elm;elm.value=title;if(editing){elm.focus();elm.selectionStart=elm.value.length}}}})])})}},{"@cycle/dom":13}],169:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=TaskList;var _xstream=require("xstream");var _xstream2=_interopRequireDefault(_xstream);var _isolate=require("@cycle/isolate");var _isolate2=_interopRequireDefault(_isolate);var _cycleOnionify=require("cycle-onionify");var _intent=require("./intent");var _intent2=_interopRequireDefault(_intent);var _model=require("./model");var _model2=_interopRequireDefault(_model);var _viewModel=require("./view-model");var _viewModel2=_interopRequireDefault(_viewModel);var _view=require("./view");var _view2=_interopRequireDefault(_view);var _index=require("../Task/index");var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function Children(sources){var array$=sources.onion.state$;var taskSinks$=array$.map(function(array){return array.map(function(item,i){return(0,_isolate2.default)(_index2.default,i)(sources)})});var vnodes$=taskSinks$.compose((0,_cycleOnionify.pick)(function(sinks){return sinks.DOM})).compose((0,_cycleOnionify.mix)(_xstream2.default.combine));var reducer$=taskSinks$.compose((0,_cycleOnionify.pick)(function(sinks){return sinks.onion})).compose((0,_cycleOnionify.mix)(_xstream2.default.merge));var sinks={vnodes:vnodes$,onion:reducer$};return sinks}function TaskList(sources){var state$=sources.onion.state$;var action$=(0,_intent2.default)(sources.DOM,sources.history);var parentReducer$=(0,_model2.default)(action$);var childrenSinks=(0,_isolate2.default)(Children,"list")(sources);var childrenVNodes$=childrenSinks.vnodes;var childrenReducer$=childrenSinks.onion;var viewState$=(0,_viewModel2.default)(state$,childrenVNodes$);var vdom$=(0,_view2.default)(viewState$);var reducer$=_xstream2.default.merge(parentReducer$,childrenReducer$);var sinks={DOM:vdom$,onion:reducer$};return sinks}},{"../Task/index":165,"./intent":170,"./model":171,"./view":173,"./view-model":172,"@cycle/isolate":27,"cycle-onionify":36,xstream:163}],170:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=intent;var _xstream=require("xstream");var _xstream2=_interopRequireDefault(_xstream);var _dropRepeats=require("xstream/extra/dropRepeats");var _dropRepeats2=_interopRequireDefault(_dropRepeats);var _utils=require("../../utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function intent(domSource,historySource){var changeRouteAction$=historySource.map(function(location){return location.pathname}).compose((0,_dropRepeats2.default)()).map(function(payload){return{type:"changeRoute",payload:payload}});var updateInputValueAction$=domSource.select(".new-todo").events("input").map(function(ev){return ev.target.value}).map(function(payload){return{type:"updateInputValue",payload:payload}});var cancelInputAction$=domSource.select(".new-todo").events("keydown").filter(function(ev){return ev.keyCode===_utils.ESC_KEY}).map(function(payload){return{type:"cancelInput",payload:payload}});var insertTodoAction$=domSource.select(".new-todo").events("keydown").filter(function(ev){var trimmedVal=String(ev.target.value).trim();return ev.keyCode===_utils.ENTER_KEY&&trimmedVal}).map(function(ev){return String(ev.target.value).trim()}).map(function(payload){return{type:"insertTodo",payload:payload}});var toggleAllAction$=domSource.select(".toggle-all").events("click").map(function(ev){return ev.target.checked;
}).map(function(payload){return{type:"toggleAll",payload:payload}});var deleteCompletedAction$=domSource.select(".clear-completed").events("click").mapTo({type:"deleteCompleted"});return _xstream2.default.merge(changeRouteAction$,updateInputValueAction$,cancelInputAction$,insertTodoAction$,toggleAllAction$,deleteCompletedAction$)}},{"../../utils":174,xstream:163,"xstream/extra/dropRepeats":161}],171:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.default=model;var _xstream=require("xstream");var _xstream2=_interopRequireDefault(_xstream);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getFilterFn(route){switch(route){case"/active":return function(task){return task.completed===false};case"/completed":return function(task){return task.completed===true};default:return function(){return true}}}function model(action$){var initialReducer$=_xstream2.default.of(function initialReducer(prevState){return{inputValue:"",list:[],filter:"",filterFn:function filterFn(){return true}}});var changeRouteReducer$=action$.filter(function(ac){return ac.type==="changeRoute"}).map(function(ac){return ac.payload}).startWith("/").map(function(path){var filterFn=getFilterFn(path);return function changeRouteReducer(todosData){todosData.filter=path.replace("/","").trim();todosData.filterFn=filterFn;return todosData}});var updateInputValueReducer$=action$.filter(function(ac){return ac.type==="updateInputValue"}).map(function(action){return function updateInputValue(prevState){return _extends({},prevState,{inputValue:action.payload})}});var clearInputReducer$=action$.filter(function(ac){return ac.type==="cancelInput"||ac.type==="insertTodo"}).map(function(){return function clearInputReducer(prevState){return _extends({},prevState,{inputValue:""})}});var insertTodoReducer$=action$.filter(function(ac){return ac.type==="insertTodo"}).map(function(action){return function insertTodoReducer(prevState){var newTodo={title:action.payload,completed:false,editing:false};return _extends({},prevState,{list:prevState.list.concat(newTodo)})}});var toggleAllReducer$=action$.filter(function(ac){return ac.type==="toggleAll"}).map(function(action){return function toggleAllReducer(prevState){return _extends({},prevState,{list:prevState.list.map(function(task){return _extends({},task,{completed:action.payload})})})}});var deleteCompletedReducer$=action$.filter(function(ac){return ac.type==="deleteCompleted"}).mapTo(function deleteCompletedsReducer(prevState){return _extends({},prevState,{list:prevState.list.filter(function(task){return task.completed===false})})});return _xstream2.default.merge(initialReducer$,updateInputValueReducer$,changeRouteReducer$,clearInputReducer$,insertTodoReducer$,toggleAllReducer$,deleteCompletedReducer$)}},{xstream:163}],172:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();exports.default=viewModel;var _sampleCombine=require("xstream/extra/sampleCombine");var _sampleCombine2=_interopRequireDefault(_sampleCombine);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function viewModel(state$,taskVNodes$){return taskVNodes$.compose((0,_sampleCombine2.default)(state$)).map(function(_ref){var _ref2=_slicedToArray(_ref,2),taskVNodes=_ref2[0],state=_ref2[1];var visibleVNodes=state.list.map(function(task,i){return state.filterFn(task)?taskVNodes[i]:null}).filter(function(vnode){return vnode!==null});return _extends({},state,{taskVNodes:visibleVNodes})})}},{"xstream/extra/sampleCombine":162}],173:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=view;var _dom=require("@cycle/dom");function renderHeader(viewState){return(0,_dom.header)(".header",[(0,_dom.h1)("todos"),(0,_dom.input)(".new-todo",{props:{type:"text",placeholder:"What needs to be done?",autofocus:true,name:"newTodo",value:viewState.inputValue}})])}function renderMainSection(viewState){var allCompleted=viewState.list.reduce(function(x,y){return x&&y.completed},true);var sectionStyle={display:viewState.list.length?"":"none"};return(0,_dom.section)(".main",{style:sectionStyle},[(0,_dom.input)(".toggle-all",{props:{type:"checkbox",checked:allCompleted}}),(0,_dom.ul)(".todo-list",viewState.taskVNodes)])}function renderFilterButton(viewState,filterTag,path,label){return(0,_dom.li)([(0,_dom.a)({attrs:{href:path},"class":{selected:viewState.filter===filterTag}},label)])}function renderFooter(viewState){var amountCompleted=viewState.list.filter(function(viewState){return viewState.completed}).length;var amountActive=viewState.list.length-amountCompleted;var footerStyle={display:viewState.list.length?"":"none"};return(0,_dom.footer)(".footer",{style:footerStyle},[(0,_dom.span)(".todo-count",[(0,_dom.strong)(String(amountActive))," item"+(amountActive!==1?"s":"")+" left"]),(0,_dom.ul)(".filters",[renderFilterButton(viewState,"","/","All"),renderFilterButton(viewState,"active","/active","Active"),renderFilterButton(viewState,"completed","/completed","Completed")]),amountCompleted>0?(0,_dom.button)(".clear-completed","Clear completed ("+amountCompleted+")"):null])}function view(viewState$){return viewState$.map(function(viewState){return(0,_dom.div)([renderHeader(viewState),renderMainSection(viewState),renderFooter(viewState)])})}},{"@cycle/dom":13}],174:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ENTER_KEY=13;var ESC_KEY=27;exports.ENTER_KEY=ENTER_KEY;exports.ESC_KEY=ESC_KEY},{}]},{},[164]);